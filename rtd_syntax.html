<!-- HTML header for doxygen 1.8.4-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.4"/>
<title>TWS API v9.72+: TWS RTD Server Formula Syntax</title>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="https://www.interactivebrokers.com/favicon.ico" rel="shortcut icon">
<script>
$(document).ready(function(){
		var picked=getCookie("picked");
		if (picked != "") {
			if (!$(this).hasClass("active")) {
				var tabNum = $(this).index();
				var nthChild = picked;
				$("ul#tabs li.active").removeClass("active");
				$(this).addClass("active");
				$("ul#tab li.active").removeClass("active");
				$("ul#tab li:nth-child("+nthChild+")").addClass("active");
				$("ul#tabs li:nth-child("+nthChild+")").addClass("active");
				setCookie("picked", nthChild, 1);
			}
		}
		$("ul#tabs li").click(function(e){
			if (!$(this).hasClass("active")) {
			var tabNum = $(this).index();
			var nthChild = tabNum+1;
			$("ul#tabs li.active").removeClass("active");
			$(this).addClass("active");
			$("ul#tab li.active").removeClass("active");
			$("ul#tab li:nth-child("+nthChild+")").addClass("active");
			setCookie("picked", nthChild, 1);
		}
    });
});
function setCookie(cname, cvalue, exdays) {
    var d = new Date();
    d.setTime(d.getTime() + (exdays*24*60*60*1000));
    var expires = "expires="+d.toUTCString();
    document.cookie = cname + "=" + cvalue + "; " + expires;
} 
function getCookie(cname) {
    var name = cname + "=";
    var ca = document.cookie.split(';');
    for(var i=0; i<ca.length; i++) {
        var c = ca[i];
        while (c.charAt(0)==' ') c = c.substring(1);
        if (c.indexOf(name) == 0) return c.substring(name.length,c.length);
    }
    return "";
} 
function checkCookie() {
    var picked=getCookie("picked");
    if (picked != "") {
        alert("Welcome again " + picked);
    }else{
        //username = prompt("Please enter your name:", "");
        if (picked != "" && picked != null) {
            setCookie("picked", 1, 365);
        }
    }
}
</script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="ib_theme.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea" style="background-color:black;">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr>
  <td id="projectlogo"><img alt="Logo" src="nav_iblogo.png"/></a></td>
  <td style="padding: 0 0 0 1em;">
   <ul id="tabs"><li class="active">C#</li><li>Java</li><li>VB</li><li>C++</li><li>Python</li></ul>
  </td>
  <td><a href="https://www.interactivebrokers.com/en/index.php?f=customerService&p=email" style="color:#C7C7C7;font-weight:bold;padding: 0 0 0 1em;">Contact us</a></td>
  <!--BEGIN GCS_SEARCHBOX-->
  <td style="position: absolute; right: 0;">
   <div id="google-custom-search" align="right" style="vertical-align: top;">
   <script>
  (function() {
    var cx = '002885114636493240026:q6smajphkxq';
	var gcse = document.createElement('script');
    gcse.type = 'text/javascript';
    gcse.async = true;
    gcse.src = 'https://cse.google.com/cse.js?cx=' + cx;
    var s = document.getElementsByTagName('script')[0];
    s.parentNode.insertBefore(gcse, s);
  })();
	</script>
	<gcse:search newWindow="false" enableHistory="true"></gcse:search>
   </div>
   </td>
  <!--END !GCS_SEARCHBOX-->
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.4 -->
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('rtd_syntax.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="headertitle">
<div class="title">TWS RTD Server Formula Syntax </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>Customer can request market data by entering the following formula into an Excel spreadsheet cell:</p>
<table class="doxtable">
<tr>
<td>=RTD(<b>ProgID</b>, <b>Server</b>, <b>String1</b>, <b>String2</b>, ...) </td></tr>
</table>
<p>where</p>
<ul>
<li><b>ProgID</b> = "Tws.TwsRtdServerCtrl"</li>
<li><b>Server</b> = "" (empty string)</li>
<li><b>String1</b>, <b>String2</b>, ... is a list of strings representing Ticker, Topic, Connection Parameters or other Complex Syntax Parameters.</li>
</ul>
<p><em><b>Note: </b>TWS RTD Server API formula is <b>not</b> case-sensitive.</em></p>
<h1><a class="anchor" id="rtd_simple_syntax"></a>
Simple Syntax</h1>
<p>Basic components of a Simple Syntax RTD formula are <b>ProgID</b>, <b>Server</b>, <b><a class="el" href="rtd_syntax.html#rtd_simple_syntax_ticker"><ul>
<li>Ticker</li>
</ul>
</a></b>, <b><a class="el" href="rtd_syntax.html#rtd_simple_syntax_topic"><ul>
<li>Topic</li>
</ul>
</a></b> and <b><a class="el" href="rtd_syntax.html#rtd_simple_syntax_conn"><ul>
<li>Connection Parameters</li>
</ul>
</a></b> (optional):</p>
<table class="doxtable">
<tr>
<td>=RTD(<b>ProgID</b>, <b>Server</b>, <b>Ticker</b>, <b>Topic</b>, <b>ConnectionParams</b>...) </td></tr>
</table>
<h2><a class="anchor" id="rtd_simple_syntax_ticker"></a>
- Ticker</h2>
<p>Besides <b>ProgID</b> and <b>Server</b>, the first string (String1) should represent the <b>Ticker</b> in Simple Syntax.</p>
<p>To define a contract <b>Ticker</b> properly, you would need to find the correct contract attributes first. The easiest way to find contract attributes is to directly look at the <a class="el" href="contracts.html">Contract Description</a> page in TWS.</p>
<p>The syntax for <b>Ticker</b> should strictly follow the below squence:</p>
<p><b>Forex Contract:</b></p>
<p>"CURRENCY1.CURRENCY2/CASH"</p>
<p>e.g. EUR.USD Forex can be defined as "EUR.USD/CASH"</p>
<p><b>Other Contract Types: </b></p>
<p>"SYMBOL@EXCHANGE/PRIMEXCH/SECTYPE/EXPIRATION/RIGHT/STRIKE/CURRENCY"</p>
<p>e.g. The E-mini futures can be defined as "ES@GLOBEX//FUT/201712///USD"</p>
<p><em> <b>Notes: </b></p>
<ol type="1">
<li>Not all contract attributes are required to be specified. You can leave the field to be blank to make that field un-specified. Sequencially, if you only need to specify several contract attributes at the begining of the string, you can leave out the rest of the string entriely as well. For example, instead of specifying "IBM@SMART//////", "IBM@SMART" would be sufficient to define the contract properly.</li>
<li>There are several default contract attributes in the Ticker string. If you leave them un-specified, they will take the default values as following:<ul>
<li><b>EXCHANGE = </b>"SMART"</li>
<li><b>SECTYPE = </b>"STK"</li>
<li><b>CURRENCY = </b>"USD"</li>
</ul>
</li>
</ol>
<p></em></p>
<p><em>For example, "IBM" actually equals to "IBM@SMART//STK////USD".</em></p>
<p><em>See more <a class="el" href="rtd_examples.html">Syntax examples</a>. </em></p>
<h2><a class="anchor" id="rtd_simple_syntax_topic"></a>
- Topic</h2>
<p>The second and other strings can be <b>Topic</b>. <b>Topic</b> string defines the tick type you would like to receive in the formula cell. <b>Topic</b> can be specified within the <b>Ticker</b> string, or as a separate string (i.e. String2, String3...).</p>
<p>For exmaple, the below two formula both request the Bid Size for IBM from ISLAND exchange:</p>
<table class="doxtable">
<tr>
<td><p class="starttd">=RTD("Tws.TwsRtdServerCtrl",,"IBM@ISLAND BidSize")</p>
<p class="endtd">=RTD("Tws.TwsRtdServerCtrl",,"IBM@ISLAND", "BidSize") </p>
</td></tr>
</table>
<p>If no <b>Topic</b> string is defined, the <b>Topic</b> will be defaulted to <em>"Last"</em>.</p>
<p>For example, the below formula will request the last price for IBM from Island exchange:</p>
<table class="doxtable">
<tr>
<td>=RTD("Tws.TwsRtdServerCtrl",,"IBM@ISLAND") </td></tr>
</table>
<p>The table below shows a full list <b>Topics</b> avaialble:</p>
<table class="doxtable">
<tr>
<th>Tick Name</th><th>Topic String</th><th>Description </th></tr>
<tr>
<td>Bid Size</td><td>"BidSize"</td><td>Number of contracts (or lots) offered at the bid price. </td></tr>
<tr>
<td>Bid Price</td><td>"Bid"</td><td>Highest bid price for the contract. </td></tr>
<tr>
<td>Ask Price</td><td>"Ask"</td><td>Lowest offer price for the contract. </td></tr>
<tr>
<td>Ask Size</td><td>"AskSize"</td><td>Number of contracts (or lots) offered at the ask price. </td></tr>
<tr>
<td>Last Price</td><td>"Last"</td><td>Last price at which the contract traded. </td></tr>
<tr>
<td>Last Size</td><td>"LastSize"</td><td>Number of contracts or lots traded at the last price. </td></tr>
<tr>
<td>High</td><td>"High"</td><td>High price for the day. </td></tr>
<tr>
<td>Low</td><td>"Low"</td><td>Low price for the day. </td></tr>
<tr>
<td>Volume</td><td>"Volume"</td><td>Trading volume for the day for the selected contract (Volume for US Stocks are quoted in lots. The actual number of shares in volume can be calculated by multiplying 100). </td></tr>
<tr>
<td>Close Price</td><td>"Close"</td><td>The last available closing price for the previous day. For US Equities, we use corporate action processing to get the closing price, so the close price is adjusted to reflect forward and reverse splits and cash and stock dividends.  </td></tr>
<tr>
<td>Open Price</td><td>"Open"</td><td>Today's opening price. The official opening price requires a market data subscription to the native exchange of a contract. </td></tr>
<tr>
<td>Last Exchange</td><td>"LastExch"</td><td>The exchange where the Last Price is provided from. </td></tr>
<tr>
<td>Bid Exchange</td><td>"BidExch"</td><td>The exchange where the Bid Price is provided from. </td></tr>
<tr>
<td>Ask Exchange</td><td>"AskExch"</td><td>The exchange where the Ask Price is provided from. </td></tr>
<tr>
<td>Last Timestamp</td><td>"LastTime"</td><td>Time of the last trade (in UNIX time). </td></tr>
<tr>
<td>Halted</td><td>"Halted"</td><td>Indicates if a contract is halted. See <a class="el" href="tick_types.html#halted">Halted</a> </td></tr>
</table>
<p>A selection of <b>Generic Tick Types</b> are also supported in TWS RTD Server API. To request for any <b>Generic Tick Type</b>, you just need to specify the name of the generic tick type as the <b>Topic</b> string in the RTD formula.</p>
<p>For example, the below formula will request the 52-Week High price for IBM:</p>
<table class="doxtable">
<tr>
<td>=RTD("Tws.TwsRtdServerCtrl",,"IBM@SMART", "Week52Hi") </td></tr>
</table>
<p>See table below for a full list of currently supported <b>Generic Tick Types</b>:</p>
<table class="doxtable">
<tr>
<th>Generic Tick Type Name</th><th>Topic String</th><th>Description</th><th>Generic Tick Required </th></tr>
<tr>
<td>Auction Volume</td><td>"AuctionVolume"</td><td>The number of shares that would trade if no new orders were received and the auction were held now.</td><td>225 </td></tr>
<tr>
<td>Auction Imbalance</td><td>"AuctionImbalance"</td><td>The number of unmatched shares for the next auction; returns how many more shares are on one side of the auction than the other. </td><td>225 </td></tr>
<tr>
<td>Auction Price</td><td>"AuctionPrice"</td><td>The price at which the auction would occur if no new orders were received and the auction were held now. The indicative price for the auction.</td><td>225 </td></tr>
<tr>
<td>Regulatory Imbalance</td><td>"RegulatoryImbalance"</td><td>The imbalance that is used to determine which at-the-open or at-the-close orders can be entered following the publishing of the regulatory imbalance.</td><td>225 </td></tr>
<tr>
<td>PL Price</td><td>"PlPrice"</td><td>The PL Price, also known as the Mark Price, is the current theoretical calculated value of an instrument. Since it is a calculated value, it will typically have many digits of precision.</td><td>232 </td></tr>
<tr class="gray">
<td>Creditmanager Mark Price</td><td>"CreditmanMarkPrice"</td><td>Not currently available.</td><td>221 </td></tr>
<tr>
<td>Creditmanager Slow Mark Price</td><td>"CreditmanSlowMarkPrice"</td><td>Slow Mark Price update used in system calculations (same as Mark Price update in TWS Account Window -&gt; Portfolio).</td><td>619 </td></tr>
<tr>
<td>Call Option Volume</td><td>"CallOptionVolume"</td><td>Call option volume for the trading day.</td><td>100 </td></tr>
<tr>
<td>Put Option Volume</td><td>"PutOptionVolume"</td><td>Put option volume for the trading day.</td><td>100 </td></tr>
<tr>
<td>Call Option Open Interest</td><td>"CallOptionOpenInterest"</td><td>Call option open interest.</td><td>101 </td></tr>
<tr>
<td>Put Option Open Interest</td><td>"PutOptionOpenInterest"</td><td>Put option open interest.</td><td>101 </td></tr>
<tr>
<td>Option Historical Volatility</td><td>"OptionHistoricalVol"</td><td>The 30-day historical volatility (currently for stocks).</td><td>104 </td></tr>
<tr>
<td>RT Historical Volatility</td><td>"RTHistoricalVol"</td><td>30-day real time historical volatility (Futures only).</td><td>411 </td></tr>
<tr>
<td>Option Implied Volatility</td><td>"OptionImpliedVol"</td><td>A prediction of how volatile an underlying will be in the future. The IB 30-day volatility is the at-market volatility estimated for a maturity thirty calendar days forward of the current trading day, and is based on option prices from two consecutive expiration months.</td><td>106 </td></tr>
<tr>
<td>Index Future Premium</td><td>"IndexFuturePremium"</td><td>The number of points that the index is over the cash index.</td><td>162 </td></tr>
<tr>
<td>Shortable</td><td>"Shortable"</td><td>Describes the level of difficulty with which the contract can be sold short. See <a class="el" href="tick_types.html#shortable">Shortable</a> .</td><td>236 </td></tr>
<tr>
<td>Fundamental Ratios</td><td>"Fundamentals"</td><td>Provides the available Reuter's Fundamental Ratios. See <a class="el" href="fundamental_ratios_tags.html">Available Fundamental Ratios</a> .</td><td>258 </td></tr>
<tr>
<td>Trade Count</td><td>"TradeCount"</td><td>Trade count for the day.</td><td>293 </td></tr>
<tr>
<td>Trade Rate</td><td>"TradeRate"</td><td>Trade count per minute.</td><td>294 </td></tr>
<tr>
<td>Volume Rate</td><td>"VolumeRate"</td><td>Volume per minute.</td><td>295 </td></tr>
<tr>
<td>Last RTH Trade</td><td>"LastRthTrade"</td><td>Last Regular Trading Hours traded price.</td><td>318 </td></tr>
<tr>
<td>IB Dividends</td><td>"IBDividends"</td><td>Contract's dividends. See <a class="el" href="tick_types.html#ib_dividends">IB Dividends</a> .</td><td>456 </td></tr>
<tr class="gray">
<td>Bond Factor Multipler</td><td>"BondMultiplier"</td><td>Not currenctly available.</td><td>460 </td></tr>
<tr>
<td>Average Volume</td><td>"AvgVolume"</td><td>The average daily trading volume over 90 days (multiply this value times 100).</td><td>165 </td></tr>
<tr>
<td>High 13 Weeks</td><td>"Week13Hi"</td><td>Highest price for the last 13 weeks.</td><td>165 </td></tr>
<tr>
<td>Low 13 Weeks</td><td>"Week13Lo"</td><td>Lowest price for the last 13 weeks.</td><td>165 </td></tr>
<tr>
<td>High 26 Weeks</td><td>"Week26Hi"</td><td>Highest price for the last 26 weeks.</td><td>165 </td></tr>
<tr>
<td>Low 26 Weeks</td><td>"Week26Lo"</td><td>Lowest price for the last 26 weeks.</td><td>165 </td></tr>
<tr>
<td>High 52 Weeks</td><td>"Week52Hi"</td><td>Highest price for the last 52 weeks.</td><td>165 </td></tr>
<tr>
<td>Low 52 Weeks</td><td>"Week52Lo"</td><td>Lowest price for the last 52 weeks.</td><td>165 </td></tr>
<tr>
<td>Short-Term Volume 3 Minutes</td><td>"ShortTermVolume3Min"</td><td>The past three minutes volume. Interpolation may be applied.</td><td>595 </td></tr>
<tr>
<td>Short-Term Volume 5 Minutes</td><td>"ShortTermVolume5Min"</td><td>The past five minutes volume. Interpolation may be applied.</td><td>595 </td></tr>
<tr>
<td>Short-Term Volume 10 Minutes</td><td>"ShortTermVolume10Min"</td><td>The past ten minutes volume. Interpolation may be applied.</td><td>595 </td></tr>
</table>
<p>By default, all <b>Generic Tick Types</b> are automatically requested. User just need to directly specify the <b>Topic</b> as the name of a generic tick type to populate the data to Excel. In order to consume less data resource and make your market data request more efficiency, you can directly specify the <b>Generic Tick Type</b> to be requested by adding string <em>"genticks=id1,id2,..."</em>.</p>
<p>For example, to request 52-Week High price, only <b>Generic Tick Type</b> = 165 is required. The below formula will only request <b>Generic Tick Type</b> = 165:</p>
<table class="doxtable">
<tr>
<td>=RTD("Tws.TwsRtdServerCtrl",,"IBM@SMART", "Week52Hi", "genticks=165") </td></tr>
</table>
<p>See more <a class="el" href="rtd_examples.html">Syntax examples</a>.</p>
<h2><a class="anchor" id="rtd_simple_syntax_conn"></a>
- Connection Parameters</h2>
<p>Since the TWS RTD Server API directly refers to the C# API Client, so it connects to TWS (or IB Gateway) the same as C# via the socket. The <b>Host IP Address</b>, <b>Socket Port</b> and <b>Client ID</b> are required parameters for initiating a socket connection. These three parameters are defaulted to the following values if not directly specified by the user:</p>
<ul>
<li><b>Host</b> = "127.0.0.1" (i.e. the "localhost")</li>
<li><b>Port</b> = "7496"</li>
<li><b>ClientID</b> = Integer.MaxValue - 1</li>
</ul>
<p>Simple Syntax supports several pre-defined <b>Connection Parameters</b> that can be specified as a separate string (i.e. String2, String3...) in the RTD formula:</p>
<ul>
<li><em>"paper"</em>: use port=7497 for connection instead (7497 is the default port for paper TWS essions)</li>
<li><em>"gw"</em>: use port=4001 for connection instead (4001 is the default port for live IB Gateway sessions)</li>
<li><em>"gwpaper"</em>: use port=4002 for connection instead (4002 is the default port for paper IB Gateway sessions)</li>
</ul>
<p>For example, to request High price for IBM while connecting to a TWS logged with a paper account via port 7497:</p>
<table class="doxtable">
<tr>
<td>=RTD("Tws.TwsRtdServerCtrl",,"IBM@ISLAND", "High", "paper") </td></tr>
</table>
<p>For more customized connection parameters, please refer to <a class="el" href="rtd_syntax.html#rtd_mixed_syntax">Mixed Syntax</a>.</p>
<h1><a class="anchor" id="rtd_complex_syntax"></a>
Complex Syntax</h1>
<p>Complex Syntax allows users to define all formula strings individually so that each string only represent one single parameter. There is no rule for the sequence of the appearance of each parameter.</p>
<table class="doxtable">
<tr>
<th>Name</th><th>String Syntax</th><th>Description </th></tr>
<tr>
<td>Contract ID</td><td>"conid="</td><td>The unique contract ID generated by IB. Can be found at TWS <a class="el" href="contracts.html">Contract Description</a> . </td></tr>
<tr>
<td>Symbol</td><td>"sym="</td><td>The contract symbol. </td></tr>
<tr>
<td>SecurityType</td><td>"sec="</td><td>The type of security, e.g. 'STK', 'FUT' and so on. </td></tr>
<tr>
<td>LastTradeDateOrContractMonth</td><td>"exp="</td><td>Format 'YYYYMMDD' is used for defining the Last Trade Date, while format 'YYYYMM' is used for defining the Contract Month. </td></tr>
<tr>
<td>Strike</td><td>"strike="</td><td>The strike price for an option contract. </td></tr>
<tr>
<td>Right</td><td>"right="</td><td>'C' or 'P' for an option contract. </td></tr>
<tr>
<td>Multiplier</td><td>"mult="</td><td>The contract multiplier. </td></tr>
<tr>
<td>Exchange</td><td>"exch="</td><td>The exchange where to get market data from. For equities, 'SMART' means top data from all possible exchanges. </td></tr>
<tr>
<td>PrimaryExchange</td><td>"prim="</td><td>The primary exchange of the contract. It is mostly specified when an contract ambiguity occurs for equity symbols that are listed on multiple exchanges. </td></tr>
<tr>
<td>Currency</td><td>"cur="</td><td>The currency the contract is traded in. </td></tr>
<tr>
<td>LocalSymbol</td><td>"loc="</td><td>The local symbol of the contract. Note the Local Symbol is mostly used for futures and options, and is different from the Symbol. </td></tr>
<tr>
<td>TradingClass</td><td>"tc="</td><td>The trading class of the contract. </td></tr>
<tr>
<td>Combo</td><td>"cmb="</td><td>Combo contract has to be defined using Complex Syntax or Mixed Syntax. The syntax for defining the combo is: <br/>
<br/>
"cmb=&lt;conid1&gt;#&lt;ratio1&gt;#&lt;action1&gt;#&lt;exchange1&gt;;&lt;conid2&gt;#&lt;ratio2&gt;#&lt;action2&gt;#&lt;exchange2&gt;;"<br/>
<br/>
 ,where combo legs are separated by ';' and individual leg parameters are separated by '#'. See more <a class="el" href="rtd_examples.html#rtd_samples_spread">Spread Samples</a> . </td></tr>
<tr>
<td>UnderComp</td><td>"und="</td><td>Delta-Neutral Underlying Component. The syntax for defining the undercomp is: <br/>
<br/>
"und=&lt;&lt;conid&gt;#&lt;delta&gt;#&lt;price&gt;"<br/>
<br/>
, where undercomp parameters are separated by '#'. </td></tr>
<tr class="gray">
<td>MktDataOptions</td><td>"opt="</td><td>Currently not supported. </td></tr>
<tr>
<td>GenericTickList</td><td>"genticks="</td><td>A comma separated Ids of available Generic Tick Types. </td></tr>
<tr>
<td colspan="3" class="separator"></td></tr>
<tr>
<td>Topic</td><td>"qt="</td><td>Topic of market data request. </td></tr>
<tr>
<td colspan="3" class="separator"></td></tr>
<tr>
<td>Host</td><td>"host="</td><td>Host IP address. </td></tr>
<tr>
<td>Port</td><td>"port="</td><td>Socket port. </td></tr>
<tr>
<td>ClientId</td><td>"clientid="</td><td>The client ID for socket connection. Note that the client ID is used for identify multiple simultaneous API connections to the same TWS. It was originally designed for API users who would like to manage their strategies separately from different API programs. Since the TWS RTD Server API is currently only supported for real-time market data, there is no need to use multiple client IDs. </td></tr>
</table>
<h1><a class="anchor" id="rtd_mixed_syntax"></a>
Mixed Syntax</h1>
<p>The Complex Syntax can be mixed with Simple Syntax with only one restriction that Ticker string must be the first string (i.e. String1) that appears in the RTD formula.</p>
<p>For example, to request the Bid Price for IBM while connecting through a customized Host, Port and Client ID:</p>
<table class="doxtable">
<tr>
<td>=RTD("Tws.TwsRtdServerCtrl",,"IBM@SMART", "host=1.2.3.4", "port=1234", "clientId=1", "Bid") </td></tr>
</table>
<p>See more <a class="el" href="rtd_examples.html">Mixed Syntax examples</a>.</p>
<p><br/>
<br/>
 </p>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.4-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">This website uses cookies. By navigating through it you agree to the use of cookies. Copyright Interactive Brokers 2016 </li>
  </ul>
</div>
<!--BEGIN GCS_SEARCHBOX-->
<style type='text/css'>
	.gsc-control-cse{
		font family: Arial, sans-serif;
		border-color: #000100;
		background-color: #000000;
		width:260px;
		height: 20px;
		padding-top: 6px;
	}
	input.gsc-search-button {
		background-color: #6D1800;
		color: #fff;
		cursor: pointer;
	}
	input.gsc-search-button:hover {
		background-color: #A02200;
	}
	td.gsc-clear-button {
		position: relative;
		right: 85px;
	}
  }
</style>
<!--END GCS_SEARCHBOX-->
</body>
</html>
