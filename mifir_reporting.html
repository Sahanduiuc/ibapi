<!-- HTML header for doxygen 1.8.4-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.4"/>
<title>TWS API v9.72+: MiFIR Transaction Reporting Fields</title>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="https://www.interactivebrokers.com/favicon.ico" rel="shortcut icon">
<script>
$(document).ready(function(){
		var picked=getCookie("picked");
		if (picked != "") {
			if (!$(this).hasClass("active")) {
				var tabNum = $(this).index();
				var nthChild = picked;
				$("ul#tabs li.active").removeClass("active");
				$(this).addClass("active");
				$("ul#tab li.active").removeClass("active");
				$("ul#tab li:nth-child("+nthChild+")").addClass("active");
				$("ul#tabs li:nth-child("+nthChild+")").addClass("active");
				setCookie("picked", nthChild, 1);
			}
		}
		$("ul#tabs li").click(function(e){
			if (!$(this).hasClass("active")) {
			var tabNum = $(this).index();
			var nthChild = tabNum+1;
			$("ul#tabs li.active").removeClass("active");
			$(this).addClass("active");
			$("ul#tab li.active").removeClass("active");
			$("ul#tab li:nth-child("+nthChild+")").addClass("active");
			setCookie("picked", nthChild, 1);
		}
    });
});
function setCookie(cname, cvalue, exdays) {
    var d = new Date();
    d.setTime(d.getTime() + (exdays*24*60*60*1000));
    var expires = "expires="+d.toUTCString();
    document.cookie = cname + "=" + cvalue + "; " + expires;
} 
function getCookie(cname) {
    var name = cname + "=";
    var ca = document.cookie.split(';');
    for(var i=0; i<ca.length; i++) {
        var c = ca[i];
        while (c.charAt(0)==' ') c = c.substring(1);
        if (c.indexOf(name) == 0) return c.substring(name.length,c.length);
    }
    return "";
} 
function checkCookie() {
    var picked=getCookie("picked");
    if (picked != "") {
        alert("Welcome again " + picked);
    }else{
        //username = prompt("Please enter your name:", "");
        if (picked != "" && picked != null) {
            setCookie("picked", 1, 365);
        }
    }
}
</script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="ib_theme.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea" style="background-color:black;">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr>
  <td id="projectlogo"><img alt="Logo" src="nav_iblogo.png"/></a></td>
  <td style="padding: 0 0 0 1em;">
   <ul id="tabs"><li class="active">C#</li><li>Java</li><li>VB</li><li>C++</li><li>Python</li></ul>
  </td>
  <td><a href="https://www.interactivebrokers.com/en/index.php?f=customerService&p=email" style="color:#C7C7C7;font-weight:bold;padding: 0 0 0 1em;">Contact us</a></td>
  <!--BEGIN GCS_SEARCHBOX-->
  <td style="position: absolute; right: 0;">
   <div id="google-custom-search" align="right" style="vertical-align: top;">
   <script>
  (function() {
    var cx = '015239726745168389685:6_uymb577ei';
	var gcse = document.createElement('script');
    gcse.type = 'text/javascript';
    gcse.async = true;
    gcse.src = 'https://cse.google.com/cse.js?cx=' + cx;
    var s = document.getElementsByTagName('script')[0];
    s.parentNode.insertBefore(gcse, s);
  })();
	</script>
	<gcse:search newWindow="false" enableHistory="true"></gcse:search>
   </div>
   </td>
  <!--END !GCS_SEARCHBOX-->
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.4 -->
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('mifir_reporting.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="headertitle">
<div class="title">MiFIR Transaction Reporting Fields </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>For EEA investment firms required to comply with MiFIR reporting, and who have opted in to Enriched and Delegated Transaction Reporting, we have added four new order attributes to the Order class, and several new presets to TWS and IB Gateway Global Configuration.</p>
<p>New order attributes include:</p>
<ul>
<li>
<b><a class="el" href="classIBApi_1_1Order.html#aeb0941721dfdaaefca993ad1356f95b7">IBApi.Order.Mifid2DecisionMaker</a></b> - Used to send "investment decision within the firm" value (if <a class="el" href="classIBApi_1_1Order.html#aedc6e9306afca2f8ff36c24cacfe2c56">IBApi.Order.Mifid2DecisionAlgo</a> is not used). </li>
<li>
<b><a class="el" href="classIBApi_1_1Order.html#aedc6e9306afca2f8ff36c24cacfe2c56">IBApi.Order.Mifid2DecisionAlgo</a></b> – Used to send "investment decision within the firm" value (if <a class="el" href="classIBApi_1_1Order.html#aeb0941721dfdaaefca993ad1356f95b7">IBApi.Order.Mifid2DecisionMaker</a> is not used). <br/>
<br/>
 </li>
<li>
<b><a class="el" href="classIBApi_1_1Order.html#aea76d2233817d0126e7c382bff3131a3">IBApi.Order.Mifid2ExecutionTrader</a></b> – Used to send "execution within the firm" value (if <a class="el" href="classIBApi_1_1Order.html#aff4c2d54301043ba1f85d937a30519d3">IBApi.Order.Mifid2ExecutionAlgo</a> is not used). </li>
<li>
<b><a class="el" href="classIBApi_1_1Order.html#aff4c2d54301043ba1f85d937a30519d3">IBApi.Order.Mifid2ExecutionAlgo</a></b> - Used to send "execution within the firm" value (if <a class="el" href="classIBApi_1_1Order.html#aea76d2233817d0126e7c382bff3131a3">IBApi.Order.Mifid2ExecutionTrader</a> is not used). </li>
</ul>
<p>New TWS and IB Gateway Order Presets can be found in the Orders &gt; MiFIR page of Global Configuration, and include TWS Decision-Maker Defaults, API Decision-Maker Defaults, and Executing Trader/Algo presets.</p>
<p>The following choices are available for the "investment decision within the firm" <a class="el" href="classIBApi_1_1Order.html#aeb0941721dfdaaefca993ad1356f95b7">IBApi.Order.Mifid2DecisionMaker</a> and <a class="el" href="classIBApi_1_1Order.html#aedc6e9306afca2f8ff36c24cacfe2c56">IBApi.Order.Mifid2DecisionAlgo</a> attributes:</p>
<ol>
<li>
This field does not need to be reported if you are: <ul>
<li>
Using the TWS API to transmit orders, AND </li>
<li>
The investment decision is always made by the client, AND </li>
<li>
None of these clients are an EEA investment firm with delegated reporting selected (the "delegated reporting firm"). </li>
</ul>
<br/>
 You can configure the preset to indicate this via TWS Global Configuration using the Orders &gt; MiFIR page. In this scenario, the orders for the proprietary account will need to be placed via TWS. <br/>
<br/>
 </li>
<li>
If you are using the TWS API to transmit orders, and the investment decision is made by a person, or a group of people within a delegated reporting firm, with one person being the primary decision maker:<br/>
<br/>
 <ul>
<li>
Your TWS API program can, on each order, transmit a decision maker's IB-assigned short code using the field <a class="el" href="classIBApi_1_1Order.html#aeb0941721dfdaaefca993ad1356f95b7">IBApi.Order.Mifid2DecisionMaker</a>. You can define persons who can be the decision-makers via IB Account Management. To obtain the short codes that IB assigned to those persons, please contact IB Client Services.<br/>
<br/>
 </li>
<li>
If your TWS API program is unable to transmit the above field, and the investment decision is either made by, or approved by, a single person who can be deemed to be the primary investment decision maker, you can pre-configure a default investment decision-maker that will be used for orders where the above fields are not present. You must define the investment decision-maker(s) in IB Account Management, and can then configure the default investment decision-maker in TWS Global Configuration using the Orders &gt; MiFIR page.<br/>
<br/>
 </li>
</ul>
</li>
<li>
If you are using the TWS API to transmit orders and the investment decision is made by an algorithm:<br/>
<br/>
 <ul>
<li>
Your TWS API program can, on each order, transmit a decision maker's IB-assigned short code using the field <a class="el" href="classIBApi_1_1Order.html#aedc6e9306afca2f8ff36c24cacfe2c56">IBApi.Order.Mifid2DecisionAlgo</a>. You can define algorithms that can be the decision-makers via IB Account Management. To obtain the short codes that IB assigned to those persons, please contact IB Client Services.<br/>
<br/>
 </li>
<li>
If your TWS API program is unable to transmit the above field, and/or the investment decision is made by a single or primary decision-maker algorithm, you can pre-configure a default investment decision-maker algo that will be used for orders where the above field is not sent. You must define the investment decision-maker(s) in IB Account Management, and can then configure the default investment decision-maker in TWS Global Configuration using the Orders &gt; MiFIR page.<br/>
<br/>
 <em>NOTE: Only ONE investment decision-maker, either a primary person or algorithm, should be provided on an order, or selected as the default.</em><br/>
 </li>
</ul>
</li>
</ol>
<p>The following choices are available for "execution within the firm" <a class="el" href="classIBApi_1_1Order.html#aea76d2233817d0126e7c382bff3131a3">IBApi.Order.Mifid2ExecutionTrader</a> and <a class="el" href="classIBApi_1_1Order.html#aff4c2d54301043ba1f85d937a30519d3">IBApi.Order.Mifid2ExecutionAlgo</a> attributes:</p>
<ol type="1">
<li>No additional information is needed if you are using the TWS API to transmit orders entered in a third-party trading interface, and you are the trader responsible for execution within the firm.</li>
<li>If your TWS API program transmits orders to IB automatically without human intervention, please contact <b>IB Client Services</b> to register the program or programs with IB as an algo. Only the primary program or algo needs to be registered and identified. You can then configure the default in TWS Global Configuration using the Orders &gt; MiFIR page.</li>
<li>Your TWS API program, on each order, can transmit the IB-assigned short code of the algo or person responsible for execution within the firm using the field <a class="el" href="classIBApi_1_1Order.html#aff4c2d54301043ba1f85d937a30519d3">IBApi.Order.Mifid2ExecutionAlgo</a> (for the algorithm) or <a class="el" href="classIBApi_1_1Order.html#aea76d2233817d0126e7c382bff3131a3">IBApi.Order.Mifid2ExecutionTrader</a> (for the person).</li>
</ol>
<p>For more information, or to obtain short codes for persons or algos defined in IB Account Management, please contact IB Client Services.</p>
<p>To find out more about the MiFIR transaction reporting obligations, see the <a href="https://ibkr.info/node/2975" target="_blank" class="linkexternal">MiFIR Enriched and Delegated Transaction Reporting for EEA Investment Firms</a> knowledge base article.</p>
<p><br/>
<br/>
 </p>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.4-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">This website uses cookies. By navigating through it you agree to the use of cookies. Copyright Interactive Brokers 2016 </li>
  </ul>
</div>
<!--BEGIN GCS_SEARCHBOX-->
<style type='text/css'>
	.gsc-control-cse{
		font family: Arial, sans-serif;
		border-color: #000100;
		background-color: #000000;
		width:260px;
		height: 20px;
		padding-top: 6px;
	}
	input.gsc-search-button {
		background-color: #6D1800;
		color: #fff;
		cursor: pointer;
	}
	input.gsc-search-button:hover {
		background-color: #A02200;
	}
	td.gsc-clear-button {
		position: relative;
		right: 85px;
	}
  }
</style>
<!--END GCS_SEARCHBOX-->
</body>
</html>
