<!-- HTML header for doxygen 1.8.4-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.4"/>
<title>TWS API v9.72+: Troubleshooting Common Errors for RTD</title>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="https://www.interactivebrokers.com/favicon.ico" rel="shortcut icon">
<script>
$(document).ready(function(){
		var picked=getCookie("picked");
		if (picked != "") {
			if (!$(this).hasClass("active")) {
				var tabNum = $(this).index();
				var nthChild = picked;
				$("ul#tabs li.active").removeClass("active");
				$(this).addClass("active");
				$("ul#tab li.active").removeClass("active");
				$("ul#tab li:nth-child("+nthChild+")").addClass("active");
				$("ul#tabs li:nth-child("+nthChild+")").addClass("active");
				setCookie("picked", nthChild, 1);
			}
		}
		$("ul#tabs li").click(function(e){
			if (!$(this).hasClass("active")) {
			var tabNum = $(this).index();
			var nthChild = tabNum+1;
			$("ul#tabs li.active").removeClass("active");
			$(this).addClass("active");
			$("ul#tab li.active").removeClass("active");
			$("ul#tab li:nth-child("+nthChild+")").addClass("active");
			setCookie("picked", nthChild, 1);
		}
    });
});
function setCookie(cname, cvalue, exdays) {
    var d = new Date();
    d.setTime(d.getTime() + (exdays*24*60*60*1000));
    var expires = "expires="+d.toUTCString();
    document.cookie = cname + "=" + cvalue + "; " + expires;
} 
function getCookie(cname) {
    var name = cname + "=";
    var ca = document.cookie.split(';');
    for(var i=0; i<ca.length; i++) {
        var c = ca[i];
        while (c.charAt(0)==' ') c = c.substring(1);
        if (c.indexOf(name) == 0) return c.substring(name.length,c.length);
    }
    return "";
} 
function checkCookie() {
    var picked=getCookie("picked");
    if (picked != "") {
        alert("Welcome again " + picked);
    }else{
        //username = prompt("Please enter your name:", "");
        if (picked != "" && picked != null) {
            setCookie("picked", 1, 365);
        }
    }
}
</script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="ib_theme.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea" style="background-color:black;">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr>
  <td id="projectlogo"><img alt="Logo" src="nav_iblogo.png"/></a></td>
  <td style="padding: 0 0 0 1em;">
   <ul id="tabs"><li class="active">C#</li><li>Java</li><li>VB</li><li>C++</li><li>Python</li></ul>
  </td>
  <!--BEGIN SS360 SEARCH-->
  <td>
	<div id="site-search-360" align="right" style="padding-left: 1em;">
		<input id="searchBox" type="search" placeholder="Search..." />
		<input id="ss360SearchButton" type="submit" />
	</div>
  </td>
  <!--END SS360 SEARCH-->
  <div id="contact-us" align="right">
	<td><a href="https://www.interactivebrokers.com/en/index.php?f=customerService&p=email" style="color:#C7C7C7;font-weight:bold;padding: 0 0 0 1em;">Contact us</a></td>
  </div>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.4 -->
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('rtd_fqa_errors.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="headertitle">
<div class="title">Troubleshooting Common Errors for RTD </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1><a class="anchor" id="rtd_common_errors"></a>
Troubleshooting Common Errors</h1>
<ul>
<li><a class="el" href="rtd_fqa_errors.html#rtd_common_errors_cannot_connect">TwsRtdServer error: Cannot connect to TWS.</a></li>
<li><a class="el" href="rtd_fqa_errors.html#rtd_common_errors_no_security">TwsRtdServer error: No security definition has been found for the request.</a></li>
<li><a class="el" href="rtd_fqa_errors.html#rtd_common_errors_ambiguity">TwsRtdServer error: The contract description specified for &lt;SYMBOL&gt; is ambiguous.</a></li>
<li><a class="el" href="rtd_fqa_errors.html#rtd_common_errors_data_not_subscribed">TwsRtdServer error: Requested market data is not subscribed. Displaying delayed market data...</a></li>
<li><a class="el" href="rtd_fqa_errors.html#rtd_common_errors_invalid_gentick">TwsRtdServer error: Error validating request:-'zd':cause - Incorrect generic tick list of <ul>
</ul>
</a></li>
<li><a class="el" href="rtd_fqa_errors.html#rtd_common_errors_maxmktdata">Some data show '0' when requesting data for many securities</a></li>
</ul>
<h2><a class="anchor" id="rtd_common_errors_cannot_connect"></a>
TwsRtdServer error: Cannot connect to TWS.</h2>
<p>This error message is most likely triggered because your TWS has not been configured properly for API socket connection. Please make sure to <a class="el" href="initial_setup.html#enable_api">Enable ActiveX and Socket Client</a> settings in your TWS. Also bear in mind that TWS Rtd Server connects to socket port 7496 by default. You will see the above error message if the socket port configured in your TWS API settings does not match what RTD is trying to connect to. See more details in <a class="el" href="tws_rtd_server.html#rtd_what_you_will_need">What You Will Need</a> .</p>
<h2><a class="anchor" id="rtd_common_errors_disconnects"></a>
TwsRtdServer error: RTD Server disconnects from TWS such that cells stop updating</h2>
<p>This can occur if the API message rate of 50 messages/second is exceeded. No more than 50 messages can be sent from an API application such as RTD Server to TWS per second (this does not include messages in the opposite direction). Each ticker subscription request and subscription cancellation request corresponds to 1 message. If the 50 messages/second rate is exceeded, TWS will eventually close the connection. So for constructing an RTD spreadsheet with more than 50 tickers, it must be built to only make at most 50 new subscriptions or cancellations per second.</p>
<h2><a class="anchor" id="rtd_common_errors_no_security"></a>
TwsRtdServer error: No security definition has been found for the request.</h2>
<p>This error message is triggered to indicate the contract definition provided in your RTD formula cannot be found by TWS. Usually it is caused by incorrect contract attribute definitions or typo. You are suggested to refer to some <a class="el" href="rtd_examples.html">Syntax Samples</a> and find out the issue in your RTD formula.</p>
<h2><a class="anchor" id="rtd_common_errors_ambiguity"></a>
TwsRtdServer error: The contract description specified for &lt;SYMBOL&gt; is ambiguous.</h2>
<p>This error message indicates the contract definition provided by you does not uniquely define one single contract. It is mostly triggered for stock symbols, such as MSFT and CSCO, that are listed on multiple primary exchanges. Specifying the <b>PrimaryExchange</b> will resolve the issue. Please refer to <a class="el" href="rtd_examples.html#rtd_samples_stk">Syntax Sample for MSFT</a> .</p>
<h2><a class="anchor" id="rtd_common_errors_data_not_subscribed"></a>
TwsRtdServer error: Requested market data is not subscribed. Displaying delayed market data...</h2>
<p>The error message is displayed when you are trying to request for a live tick type, while only delayed data is available due to missing <a class="el" href="market_data.html#market_subscriptions">Market Data Subscription</a>. You need to either subscribe to market data pacakegs via Account Management, or request for <a class="el" href="rtd_simple_syntax.html#rtd_simple_syntax_delayed_ticks">Delayed Tick Types</a> instead.</p>
<h2><a class="anchor" id="rtd_common_errors_invalid_gentick"></a>
TwsRtdServer error: Error validating request:-'zd':cause - Incorrect generic tick list of &lt;list&gt;</h2>
<p>As explained in <a class="el" href="tws_rtd_server.html#rtd_what_you_will_need">What You Will Need</a> , TWS Build 963+ is required because there are some generic tick types requested by RTD by default that are not supported in older TWS builds. <a href="https://www.interactivebrokers.com/en/index.php?f=14099#tws-software" target="_blank">Upgrade TWS</a> to any build above 963 will resolve the issue.</p>
<h2><a class="anchor" id="rtd_common_errors_maxmktdata"></a>
Some data show '0' when requesting data for many securities</h2>
<p>This is most likely because you have exceeded the limit of <a class="el" href="market_data.html#market_lines">Market Data Lines</a> . You can verify if this is reason by going to TWS and hold <b>Ctrl_Alt_=</b> at the same time. This should show a small pop-up window and indicate the maximum allowed market data lines as well as the currently subscribed top market data count. If you are subscribed to more than the maximum allowed, some of the data point will show '0'.</p>
<div class="image">
<img src="rtd_maxdataline.PNG" alt="rtd_maxdataline.PNG"/>
</div>
<p><br/>
<br/>
 </p>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.4-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">This website uses cookies. By navigating through it you agree to the use of cookies. Copyright Interactive Brokers 2016 </li>
  </ul>
</div>
<!--BEGIN !SS360 SEARCH-->
<script>
var ss360Config = {
    /********* General *********/
    siteId: 'tws-api-doc',
    animationSpeed: 250,
    themeColor: '#A02424',
    showErrors: false,
    /********* Search Box *********/
    searchBoxSelector: '#searchBox',
    searchBoxStyle: {
        text: {
            color: '#ffffff',
            size: '12px',
        },
        background: {
            color: '#000000',
        },
        padding: '8px',        
        icon: {
            image: undefined,
        },
        border: {
            color: '#464646',
            radius: '7px',
        },
        button: {
            text: ' ',
            icon: 'magnifier'
        }
    },
    placeholder: 'Search...',
    searchButton: '#ss360SearchButton',
    /********* Search Suggestions *********/
    showSearchSuggestions: true,
    suggestionsStyle: {
        text: {
            color: '#333333',
        },
        background: {
            color: '#ffffff'
        },
        padding: '10px',
        distanceFromTop: '7px',
        border: {
            color: '#dddddd',
            radius: '7px',
        },
    },
    showImagesSuggestions: true,
    numSuggestions: 6,
    maxQuerySuggestions: 3,
    minChars: 3,
    highlight: true,
    /********* Search Results *********/
    searchResults: undefined,
    searchResultsCaption: 'We found #COUNT# results for your query "#QUERY#"',
    numResults: 50,
    navigation: 'top',
    highlightQueryTerms: true,
    showImagesResults: true,
    showResultLink: true,
    resultLinksOpenNewTab: false,
    queryCorrectionText: 'Did you mean "#CORRECTION#"?',
    noResultsText: 'Sorry, we have not found any matches for your query.',
    otherContentGroupName: 'Other',
    ignoreOtherContentGroup: false,
    moreResultsButton: undefined,
    moreResultsPagingSize: 50,
    groupResults: true,
    loader: {
        type: 'circle'
    }
}
</script>
<script src="https://sitesearch360.com/cdn/sitesearch360-v10.min.js"></script>
<!--END !SS360 SEARCH-->
</body>
</html>
