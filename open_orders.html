<!-- HTML header for doxygen 1.8.4-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.4"/>
<title>TWS API v9.72+: Retrieving currently active orders</title>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="https://www.interactivebrokers.com/favicon.ico" rel="shortcut icon">
<script>
$(document).ready(function(){
		var picked=getCookie("picked");
		if (picked != "") {
			if (!$(this).hasClass("active")) {
				var tabNum = $(this).index();
				var nthChild = picked;
				$("ul#tabs li.active").removeClass("active");
				$(this).addClass("active");
				$("ul#tab li.active").removeClass("active");
				$("ul#tab li:nth-child("+nthChild+")").addClass("active");
				$("ul#tabs li:nth-child("+nthChild+")").addClass("active");
				setCookie("picked", nthChild, 1);
			}
		}
		$("ul#tabs li").click(function(e){
			if (!$(this).hasClass("active")) {
			var tabNum = $(this).index();
			var nthChild = tabNum+1;
			$("ul#tabs li.active").removeClass("active");
			$(this).addClass("active");
			$("ul#tab li.active").removeClass("active");
			$("ul#tab li:nth-child("+nthChild+")").addClass("active");
			setCookie("picked", nthChild, 1);
		}
    });
});
function setCookie(cname, cvalue, exdays) {
    var d = new Date();
    d.setTime(d.getTime() + (exdays*24*60*60*1000));
    var expires = "expires="+d.toUTCString();
    document.cookie = cname + "=" + cvalue + "; " + expires;
} 
function getCookie(cname) {
    var name = cname + "=";
    var ca = document.cookie.split(';');
    for(var i=0; i<ca.length; i++) {
        var c = ca[i];
        while (c.charAt(0)==' ') c = c.substring(1);
        if (c.indexOf(name) == 0) return c.substring(name.length,c.length);
    }
    return "";
} 
function checkCookie() {
    var picked=getCookie("picked");
    if (picked != "") {
        alert("Welcome again " + picked);
    }else{
        //username = prompt("Please enter your name:", "");
        if (picked != "" && picked != null) {
            setCookie("picked", 1, 365);
        }
    }
}
</script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="ib_theme.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea" style="background-color:black;">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr>
  <td id="projectlogo"><img alt="Logo" src="nav_iblogo.png"/></a></td>
  <td style="padding: 0 0 0 1em;">
   <ul id="tabs"><li class="active">C#</li><li>Java</li><li>VB</li><li>C++</li><li>Python</li></ul>
  </td>
  <!--BEGIN SS360 SEARCH-->
  <td>
	<div id="site-search-360" align="right" style="padding-left: 1em;">
		<input id="searchBox" type="search" placeholder="Search..." />
		<input id="ss360SearchButton" type="submit" />
	</div>
  </td>
  <!--END SS360 SEARCH-->
  <div id="contact-us" align="right">
	<td><a href="https://www.interactivebrokers.com/en/index.php?f=customerService&p=email" style="color:#C7C7C7;font-weight:bold;padding: 0 0 0 1em;">Contact us</a></td>
  </div>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.4 -->
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('open_orders.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="headertitle">
<div class="title">Retrieving currently active orders </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>As long as an order is active, it is possible to retrieve it using the TWS API. Orders submitted via the TWS API will always be bound to the client application (i.e. client Id) they were submitted from meaning only the submitting client will be able to modify the placed order. Three different methods are provided to allow for maximum flexibility. Active orders will be returned via the <a class="el" href="interfaceIBApi_1_1EWrapper.html#aa05258f1d005accd3efc0d60bc151407">IBApi.EWrapper.openOrder</a> and <a class="el" href="interfaceIBApi_1_1EWrapper.html#a17f2a02d6449710b6394d0266a353313">IBApi.EWrapper.orderStatus</a> methods as already described in <a class="el" href="order_submission.html#open_order">The openOrder callback</a> and <a class="el" href="order_submission.html#order_status">The orderStatus callback</a> sections</p>
<p><b>Note:</b> it is not possible to obtain cancelled or fully filled orders.</p>
<h1><a class="anchor" id="connected_client_orders"></a>
API client's orders</h1>
<p>The <a class="el" href="classIBApi_1_1EClient.html#a11e9c0dce640a3b8ed7a221792412c05">IBApi.EClient.reqOpenOrders</a> method allows to obtain all active orders submitted by the client application connected with the exact same client Id with which the order was sent to the TWS. If client 0 invokes reqOpenOrders, it will cause <b>currently</b> open orders placed from TWS manually to be 'bound', i.e. assigned an order ID so that they can be modified or cancelled by the API client 0. In API versions after 973.07 there will be <a class="el" href="interfaceIBApi_1_1EWrapper.html#a1f900736d47e30361e0c32e11eff1056">IBApi.EWrapper.orderBound</a> callback in response to newly bound orders that indicates the mapping between the permID (unique account-wide) and API Order ID (specific to an API client). In the API settings in Global Configuration, is a setting checked by default "Use negative numbers to bind automatic orders" which will specify how manual TWS orders are assigned an API order ID.</p>
<ul id="tab">
<li class="active">
<div class="fragment"><div class="line">            client.reqOpenOrders();</div>
</div><!-- fragment -->  </li>
<li>
<div class="fragment"><div class="line">        client.reqOpenOrders();</div>
</div><!-- fragment -->  </li>
<li>
<div class="fragment"><div class="line">        client.reqOpenOrders()</div>
</div><!-- fragment -->  </li>
<li>
<div class="fragment"><div class="line">    m_pClient-&gt;reqOpenOrders();</div>
</div><!-- fragment -->  </li>
<li>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;        self.reqOpenOrders()</div>
</div><!-- fragment -->  </li>
</ul>
<h1><a class="anchor" id="all_api_orders"></a>
All submitted orders</h1>
<p>To obtain those orders created via the TWS API regardless of the submitting client application, make use of the <a class="el" href="classIBApi_1_1EClient.html#aa2c9a012884dd53311a7a7c6a326306c">IBApi.EClient.reqAllOpenOrders</a> function.</p>
<ul id="tab">
<li class="active">
<div class="fragment"><div class="line">            client.reqAllOpenOrders();</div>
</div><!-- fragment -->  </li>
<li>
<div class="fragment"><div class="line">        client.reqAllOpenOrders();</div>
</div><!-- fragment -->  </li>
<li>
<div class="fragment"><div class="line">        client.reqAllOpenOrders()</div>
</div><!-- fragment -->  </li>
<li>
<div class="fragment"><div class="line">    m_pClient-&gt;reqAllOpenOrders();</div>
</div><!-- fragment -->  </li>
<li>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;        self.reqAllOpenOrders()</div>
</div><!-- fragment -->  </li>
</ul>
<h1><a class="anchor" id="manually_submitted"></a>
Manually submitted orders</h1>
<p>Finally, <a class="el" href="classIBApi_1_1EClient.html#abe8e30367fff33b9a1171a4580029016">IBApi.EClient.reqAutoOpenOrders</a> can only be invoked by client with ID 0. It will cause future orders placed from TWS to be 'bound', i.e. assigned an order ID such that they can be accessed by the cancelOrder or placeOrder (for modification) functions by client ID 0.</p>
<ul id="tab">
<li class="active">
<div class="fragment"><div class="line">            client.reqAutoOpenOrders(<span class="keyword">true</span>);</div>
</div><!-- fragment -->  </li>
<li>
<div class="fragment"><div class="line">        client.reqAutoOpenOrders(<span class="keyword">true</span>);</div>
</div><!-- fragment -->  </li>
<li>
<div class="fragment"><div class="line">        client.reqAutoOpenOrders(True)</div>
</div><!-- fragment -->  </li>
<li>
<div class="fragment"><div class="line">    m_pClient-&gt;reqAutoOpenOrders(<span class="keyword">true</span>);</div>
</div><!-- fragment -->  </li>
<li>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;        self.reqAutoOpenOrders(<span class="keyword">True</span>)</div>
</div><!-- fragment -->  </li>
</ul>
<p><b>Important:</b> only those applications connecting with client Id 0 will be able to take over manually submitted orders</p>
<p>Through the TWS' API settings it is possible to configure this method's behaviour to some extent. As shown in the image below, manually placed orders can be given a negative order Id which can serve to easily tell manual from API submitted orders. The TWS' tooltip elaborates further:</p>
<div class="image">
<img src="tws_autobind.png" alt="tws_autobind.png"/>
</div>
<h1><a class="anchor" id="receiving_orders"></a>
Receiving Order Information</h1>
<p>Active orders will be delivered via <a class="el" href="order_submission.html#open_order">The openOrder callback</a> and <a class="el" href="order_submission.html#order_status">The orderStatus callback</a> callbacks. When all orders have been sent to the client application you will receive a <a class="el" href="interfaceIBApi_1_1EWrapper.html#ab86caf7ed61e14d9b5609e8dd60b93e1">IBApi.EWrapper.openOrderEnd</a> event:</p>
<ul id="tab">
<li class="active">
<div class="fragment"><div class="line">    <span class="keyword">public</span> <span class="keyword">class </span>EWrapperImpl : EWrapper </div>
<div class="line">    {</div>
</div><!-- fragment --> ... <div class="fragment"><div class="line">        <span class="keyword">public</span> <span class="keyword">virtual</span> <span class="keywordtype">void</span> openOrder(<span class="keywordtype">int</span> orderId, Contract contract, Order order, OrderState orderState)</div>
<div class="line">        {</div>
<div class="line">            Console.WriteLine(<span class="stringliteral">&quot;OpenOrder. ID: &quot;</span>+orderId+<span class="stringliteral">&quot;, &quot;</span>+contract.Symbol+<span class="stringliteral">&quot;, &quot;</span>+contract.SecType+<span class="stringliteral">&quot; @ &quot;</span>+contract.Exchange+<span class="stringliteral">&quot;: &quot;</span>+order.Action+<span class="stringliteral">&quot;, &quot;</span>+order.OrderType+<span class="stringliteral">&quot; &quot;</span>+order.TotalQuantity+<span class="stringliteral">&quot;, &quot;</span>+orderState.Status);</div>
<div class="line">            <span class="keywordflow">if</span> (order.WhatIf)</div>
<div class="line">            {</div>
<div class="line">                Console.WriteLine(<span class="stringliteral">&quot;What-If. ID: &quot;</span> + orderId + </div>
<div class="line">                    <span class="stringliteral">&quot;, InitMarginBefore: &quot;</span> + Util.formatDoubleString(orderState.InitMarginBefore) + <span class="stringliteral">&quot;, MaintMarginBefore: &quot;</span> + Util.formatDoubleString(orderState.MaintMarginBefore) + <span class="stringliteral">&quot; EquityWithLoanBefore: &quot;</span> + Util.formatDoubleString(orderState.EquityWithLoanBefore) +</div>
<div class="line">                    <span class="stringliteral">&quot;, InitMarginChange: &quot;</span> + Util.formatDoubleString(orderState.InitMarginChange) + <span class="stringliteral">&quot;, MaintMarginChange: &quot;</span> + Util.formatDoubleString(orderState.MaintMarginChange) + <span class="stringliteral">&quot; EquityWithLoanChange: &quot;</span> + Util.formatDoubleString(orderState.EquityWithLoanChange) +</div>
<div class="line">                    <span class="stringliteral">&quot;, InitMarginAfter: &quot;</span> + Util.formatDoubleString(orderState.InitMarginAfter) + <span class="stringliteral">&quot;, MaintMarginAfter: &quot;</span> + Util.formatDoubleString(orderState.MaintMarginAfter) + <span class="stringliteral">&quot; EquityWithLoanAfter: &quot;</span> + Util.formatDoubleString(orderState.EquityWithLoanAfter));</div>
<div class="line">            }</div>
<div class="line">        }</div>
</div><!-- fragment --> ... <div class="fragment"><div class="line">        <span class="keyword">public</span> <span class="keyword">virtual</span> <span class="keywordtype">void</span> orderStatus(<span class="keywordtype">int</span> orderId, <span class="keywordtype">string</span> status, <span class="keywordtype">double</span> filled, <span class="keywordtype">double</span> remaining, <span class="keywordtype">double</span> avgFillPrice, <span class="keywordtype">int</span> permId, <span class="keywordtype">int</span> parentId, <span class="keywordtype">double</span> lastFillPrice, <span class="keywordtype">int</span> clientId, <span class="keywordtype">string</span> whyHeld, <span class="keywordtype">double</span> mktCapPrice)</div>
<div class="line">        {</div>
<div class="line">            Console.WriteLine(<span class="stringliteral">&quot;OrderStatus. Id: &quot;</span>+orderId+<span class="stringliteral">&quot;, Status: &quot;</span>+status+<span class="stringliteral">&quot;, Filled&quot;</span>+filled+<span class="stringliteral">&quot;, Remaining: &quot;</span>+remaining</div>
<div class="line">                + <span class="stringliteral">&quot;, AvgFillPrice: &quot;</span> + avgFillPrice + <span class="stringliteral">&quot;, PermId: &quot;</span> + permId + <span class="stringliteral">&quot;, ParentId: &quot;</span> + parentId + <span class="stringliteral">&quot;, LastFillPrice: &quot;</span> + lastFillPrice + <span class="stringliteral">&quot;, ClientId: &quot;</span> + clientId + <span class="stringliteral">&quot;, WhyHeld: &quot;</span> + whyHeld + <span class="stringliteral">&quot;, MktCapPrice: &quot;</span> + mktCapPrice);</div>
<div class="line">        }</div>
</div><!-- fragment --> ... <div class="fragment"><div class="line">        <span class="keyword">public</span> <span class="keyword">virtual</span> <span class="keywordtype">void</span> openOrderEnd()</div>
<div class="line">        {</div>
<div class="line">            Console.WriteLine(<span class="stringliteral">&quot;OpenOrderEnd&quot;</span>);</div>
<div class="line">        }</div>
</div><!-- fragment -->  </li>
<li>
<div class="fragment"><div class="line"><span class="keyword">public</span> <span class="keyword">class </span>EWrapperImpl <span class="keyword">implements</span> EWrapper {</div>
</div><!-- fragment --> ... <div class="fragment"><div class="line">    @Override</div>
<div class="line">    <span class="keyword">public</span> <span class="keywordtype">void</span> openOrder(<span class="keywordtype">int</span> orderId, Contract contract, Order order,</div>
<div class="line">            OrderState orderState) {</div>
<div class="line">        System.out.println(EWrapperMsgGenerator.openOrder(orderId, contract, order, orderState));</div>
<div class="line">    }</div>
</div><!-- fragment --> ... <div class="fragment"><div class="line">    @Override</div>
<div class="line">    <span class="keyword">public</span> <span class="keywordtype">void</span> orderStatus(<span class="keywordtype">int</span> orderId, String status, <span class="keywordtype">double</span> filled,</div>
<div class="line">            <span class="keywordtype">double</span> remaining, <span class="keywordtype">double</span> avgFillPrice, <span class="keywordtype">int</span> permId, <span class="keywordtype">int</span> parentId,</div>
<div class="line">            <span class="keywordtype">double</span> lastFillPrice, <span class="keywordtype">int</span> clientId, String whyHeld, <span class="keywordtype">double</span> mktCapPrice) {</div>
<div class="line">        System.out.println(<span class="stringliteral">&quot;OrderStatus. Id: &quot;</span>+orderId+<span class="stringliteral">&quot;, Status: &quot;</span>+status+<span class="stringliteral">&quot;, Filled&quot;</span>+filled+<span class="stringliteral">&quot;, Remaining: &quot;</span>+remaining</div>
<div class="line">                +<span class="stringliteral">&quot;, AvgFillPrice: &quot;</span>+avgFillPrice+<span class="stringliteral">&quot;, PermId: &quot;</span>+permId+<span class="stringliteral">&quot;, ParentId: &quot;</span>+parentId+<span class="stringliteral">&quot;, LastFillPrice: &quot;</span>+lastFillPrice+</div>
<div class="line">                <span class="stringliteral">&quot;, ClientId: &quot;</span>+clientId+<span class="stringliteral">&quot;, WhyHeld: &quot;</span>+whyHeld+<span class="stringliteral">&quot;, MktCapPrice: &quot;</span>+mktCapPrice);</div>
<div class="line">    }</div>
</div><!-- fragment --> ... <div class="fragment"><div class="line">    @Override</div>
<div class="line">    <span class="keyword">public</span> <span class="keywordtype">void</span> openOrderEnd() {</div>
<div class="line">        System.out.println(<span class="stringliteral">&quot;OpenOrderEnd&quot;</span>);</div>
<div class="line">    }</div>
</div><!-- fragment -->  </li>
<li>
<div class="fragment"><div class="line">    Public Class EWrapperImpl</div>
<div class="line">        Implements EWrapper</div>
</div><!-- fragment --> ... <div class="fragment"><div class="line">        Public Sub openOrder(orderId As Integer, contract As IBApi.Contract, order As IBApi.Order, orderState As IBApi.OrderState) Implements IBApi.EWrapper.openOrder</div>
<div class="line">            Console.WriteLine(<span class="stringliteral">&quot;OpenOrder. ID: &quot;</span> &amp; orderId &amp; <span class="stringliteral">&quot;, &quot;</span> &amp; contract.Symbol &amp; <span class="stringliteral">&quot;, &quot;</span> &amp; contract.SecType &amp; <span class="stringliteral">&quot; @ &quot;</span> &amp; contract.Exchange &amp;</div>
<div class="line">                          <span class="stringliteral">&quot;: &quot;</span> &amp; order.Action &amp; <span class="stringliteral">&quot;, &quot;</span> &amp; order.OrderType &amp; <span class="stringliteral">&quot; &quot;</span> &amp; order.TotalQuantity &amp; <span class="stringliteral">&quot;, &quot;</span> &amp; orderState.Status)</div>
<div class="line">            If order.WhatIf = True Then</div>
<div class="line">                Console.WriteLine(<span class="stringliteral">&quot;What-If. ID: &quot;</span> &amp; orderId &amp;</div>
<div class="line">                    <span class="stringliteral">&quot;, InitMarginBefore: &quot;</span> &amp; Util.formatDoubleString(orderState.InitMarginBefore) &amp; <span class="stringliteral">&quot;, MaintMarginBefore: &quot;</span> &amp; Util.formatDoubleString(orderState.MaintMarginBefore) &amp; <span class="stringliteral">&quot; EquityWithLoanBefore: &quot;</span> &amp; Util.formatDoubleString(orderState.EquityWithLoanBefore) &amp;</div>
<div class="line">                    <span class="stringliteral">&quot;, InitMarginChange: &quot;</span> &amp; Util.formatDoubleString(orderState.InitMarginChange) &amp; <span class="stringliteral">&quot;, MaintMarginChange: &quot;</span> &amp; Util.formatDoubleString(orderState.MaintMarginChange) &amp; <span class="stringliteral">&quot; EquityWithLoanChange: &quot;</span> &amp; Util.formatDoubleString(orderState.EquityWithLoanChange) &amp;</div>
<div class="line">                    <span class="stringliteral">&quot;, InitMarginAfter: &quot;</span> &amp; Util.formatDoubleString(orderState.InitMarginAfter) &amp; <span class="stringliteral">&quot;, MaintMarginAfter: &quot;</span> &amp; Util.formatDoubleString(orderState.MaintMarginAfter) &amp; <span class="stringliteral">&quot; EquityWithLoanAfter: &quot;</span> &amp; Util.formatDoubleString(orderState.EquityWithLoanAfter))</div>
<div class="line">            End If</div>
<div class="line">        End Sub</div>
</div><!-- fragment --> ... <div class="fragment"><div class="line">        Public Sub orderStatus(orderId As Integer, status As String, filled As Double, remaining As Double, avgFillPrice As Double, permId As Integer, parentId As Integer, lastFillPrice As Double, clientId As Integer, whyHeld As String, mktCapPrice As Double) Implements IBApi.EWrapper.orderStatus</div>
<div class="line">            Console.WriteLine(<span class="stringliteral">&quot;OrderStatus. Id: &quot;</span> &amp; orderId &amp; <span class="stringliteral">&quot;, Status: &quot;</span> &amp; status &amp; <span class="stringliteral">&quot;, Filled&quot;</span> &amp; filled &amp; <span class="stringliteral">&quot;, Remaining: &quot;</span> &amp; remaining &amp;</div>
<div class="line">                <span class="stringliteral">&quot;, AvgFillPrice: &quot;</span> &amp; avgFillPrice &amp; <span class="stringliteral">&quot;, PermId: &quot;</span> &amp; permId &amp; <span class="stringliteral">&quot;, ParentId: &quot;</span> &amp; parentId &amp; <span class="stringliteral">&quot;, LastFillPrice: &quot;</span> &amp; lastFillPrice &amp;</div>
<div class="line">                <span class="stringliteral">&quot;, ClientId: &quot;</span> &amp; clientId &amp; <span class="stringliteral">&quot;, WhyHeld: &quot;</span> &amp; whyHeld &amp; <span class="stringliteral">&quot;, mktCapPrice: &quot;</span> &amp; mktCapPrice)</div>
<div class="line">        End Sub</div>
</div><!-- fragment --> ... <div class="fragment"><div class="line">        Public Sub openOrderEnd() Implements IBApi.EWrapper.openOrderEnd</div>
<div class="line">            Console.WriteLine(&quot;OpenOrderEnd&quot;)</div>
<div class="line">        End Sub</div>
</div><!-- fragment -->  </li>
<li>
<div class="fragment"><div class="line"><span class="keyword">class </span>TestCppClient : <span class="keyword">public</span> EWrapper</div>
<div class="line">{</div>
</div><!-- fragment --> ... <div class="fragment"><div class="line"><span class="keywordtype">void</span> TestCppClient::openOrder( OrderId orderId, <span class="keyword">const</span> Contract&amp; contract, <span class="keyword">const</span> Order&amp; order, <span class="keyword">const</span> OrderState&amp; ostate) {</div>
<div class="line">    printf( <span class="stringliteral">&quot;OpenOrder. ID: %ld, %s, %s @ %s: %s, %s, %g, %g, %s, %s\n&quot;</span>, orderId, contract.symbol.c_str(), contract.secType.c_str(), contract.exchange.c_str(), order.action.c_str(), order.orderType.c_str(), order.totalQuantity, order.cashQty == UNSET_DOUBLE ? 0 : order.cashQty, ostate.status.c_str(), order.dontUseAutoPriceForHedge ? <span class="stringliteral">&quot;true&quot;</span> : <span class="stringliteral">&quot;false&quot;</span>);</div>
<div class="line">    <span class="keywordflow">if</span> (order.whatIf) {</div>
<div class="line">        printf( <span class="stringliteral">&quot;What-If. ID: %ld, InitMarginBefore: %s, MaintMarginBefore: %s, EquityWithLoanBefore: %s, InitMarginChange: %s, MaintMarginChange: %s, EquityWithLoanChange: %s, InitMarginAfter: %s, MaintMarginAfter: %s, EquityWithLoanAfter: %s\n&quot;</span>, </div>
<div class="line">            orderId, Utils::formatDoubleString(ostate.initMarginBefore).c_str(), Utils::formatDoubleString(ostate.maintMarginBefore).c_str(), Utils::formatDoubleString(ostate.equityWithLoanBefore).c_str(),</div>
<div class="line">            Utils::formatDoubleString(ostate.initMarginChange).c_str(), Utils::formatDoubleString(ostate.maintMarginChange).c_str(), Utils::formatDoubleString(ostate.equityWithLoanChange).c_str(),</div>
<div class="line">            Utils::formatDoubleString(ostate.initMarginAfter).c_str(), Utils::formatDoubleString(ostate.maintMarginAfter).c_str(), Utils::formatDoubleString(ostate.equityWithLoanAfter).c_str());</div>
<div class="line">    }</div>
<div class="line">}</div>
</div><!-- fragment --> ... <div class="fragment"><div class="line"><span class="keywordtype">void</span> TestCppClient::orderStatus(OrderId orderId, <span class="keyword">const</span> std::string&amp; status, <span class="keywordtype">double</span> filled,</div>
<div class="line">        <span class="keywordtype">double</span> remaining, <span class="keywordtype">double</span> avgFillPrice, <span class="keywordtype">int</span> permId, <span class="keywordtype">int</span> parentId,</div>
<div class="line">        <span class="keywordtype">double</span> lastFillPrice, <span class="keywordtype">int</span> clientId, <span class="keyword">const</span> std::string&amp; whyHeld, <span class="keywordtype">double</span> mktCapPrice){</div>
<div class="line">    printf(<span class="stringliteral">&quot;OrderStatus. Id: %ld, Status: %s, Filled: %g, Remaining: %g, AvgFillPrice: %g, PermId: %d, LastFillPrice: %g, ClientId: %d, WhyHeld: %s, MktCapPrice: %g\n&quot;</span>, orderId, status.c_str(), filled, remaining, avgFillPrice, permId, lastFillPrice, clientId, whyHeld.c_str(), mktCapPrice);</div>
<div class="line">}</div>
</div><!-- fragment --> ... <div class="fragment"><div class="line"><span class="keywordtype">void</span> TestCppClient::openOrderEnd() {</div>
<div class="line">    printf( <span class="stringliteral">&quot;OpenOrderEnd\n&quot;</span>);</div>
<div class="line">}</div>
</div><!-- fragment -->  </li>
<li>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="keyword">class </span>TestWrapper(wrapper.EWrapper):</div>
</div><!-- fragment --> ... <div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;    <span class="keyword">def </span>openOrder(self, orderId: OrderId, contract: Contract, order: Order,</div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;                  orderState: OrderState):</div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;        super().openOrder(orderId, contract, order, orderState)</div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;        print(<span class="stringliteral">&quot;OpenOrder. ID:&quot;</span>, orderId, contract.symbol, contract.secType,</div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;              <span class="stringliteral">&quot;@&quot;</span>, contract.exchange, <span class="stringliteral">&quot;:&quot;</span>, order.action, order.orderType,</div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;              order.totalQuantity, orderState.status)</div>
</div><!-- fragment --> ... <div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;    <span class="keyword">def </span>orderStatus(self, orderId: OrderId, status: str, filled: float,</div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;                    remaining: float, avgFillPrice: float, permId: int,</div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;                    parentId: int, lastFillPrice: float, clientId: int,</div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;                    whyHeld: str, mktCapPrice: float):</div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;        super().orderStatus(orderId, status, filled, remaining,</div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;                            avgFillPrice, permId, parentId, lastFillPrice, clientId, whyHeld, mktCapPrice)</div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;        print(<span class="stringliteral">&quot;OrderStatus. Id: &quot;</span>, orderId, <span class="stringliteral">&quot;, Status: &quot;</span>, status, <span class="stringliteral">&quot;, Filled: &quot;</span>, filled,</div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;              <span class="stringliteral">&quot;, Remaining: &quot;</span>, remaining, <span class="stringliteral">&quot;, AvgFillPrice: &quot;</span>, avgFillPrice,</div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;              <span class="stringliteral">&quot;, PermId: &quot;</span>, permId, <span class="stringliteral">&quot;, ParentId: &quot;</span>, parentId, <span class="stringliteral">&quot;, LastFillPrice: &quot;</span>,</div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;              lastFillPrice, <span class="stringliteral">&quot;, ClientId: &quot;</span>, clientId, <span class="stringliteral">&quot;, WhyHeld: &quot;</span>,</div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;              whyHeld, <span class="stringliteral">&quot;, MktCapPrice: &quot;</span>, mktCapPrice)</div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;</div>
</div><!-- fragment --> ... <div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;    <span class="keyword">def </span>openOrderEnd(self):</div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;        super().openOrderEnd()</div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;        print(<span class="stringliteral">&quot;OpenOrderEnd&quot;</span>)</div>
</div><!-- fragment -->  </li>
</ul>
<p><br/>
</p>
<h1><a class="anchor" id="binding"></a>
Order Binding Notification</h1>
<p>When an order is bound by API client 0 there will be callback to <a class="el" href="interfaceIBApi_1_1EWrapper.html#a1f900736d47e30361e0c32e11eff1056" title="response to API bind order control message ">IBApi::EWrapper::orderBound</a>.<br/>
 This indicates the mapping between API order ID and permID. <br/>
<b>**</b>not yet implemented</p>
<ul id="tab">
<li class="active">
<div class="fragment"><div class="line">        <span class="keyword">public</span> <span class="keywordtype">void</span> orderBound(<span class="keywordtype">long</span> orderId, <span class="keywordtype">int</span> apiClientId, <span class="keywordtype">int</span> apiOrderId)</div>
<div class="line">        {</div>
<div class="line">            Console.WriteLine(<span class="stringliteral">&quot;Order bound. Order Id: {0}, Api Client Id: {1}, Api Order Id: {2}&quot;</span>, orderId, apiClientId, apiOrderId);</div>
<div class="line">        }</div>
</div><!-- fragment -->  </li>
<li>
<div class="fragment"><div class="line">    @Override</div>
<div class="line">    <span class="keyword">public</span> <span class="keywordtype">void</span> orderBound(<span class="keywordtype">long</span> orderId, <span class="keywordtype">int</span> apiClientId, <span class="keywordtype">int</span> apiOrderId) {</div>
<div class="line">        System.out.println(EWrapperMsgGenerator.orderBound(orderId, apiClientId, apiOrderId));</div>
<div class="line">    }</div>
</div><!-- fragment -->  </li>
<li>
<div class="fragment"><div class="line">        Public Sub orderBound(orderId As Long, apiClientId As Integer, apiOrderId As Integer) Implements EWrapper.orderBound</div>
<div class="line">            Console.WriteLine(<span class="stringliteral">&quot;Order bound. Order Id: {0}, Api Client Id: {1}, Api Order Id: {2}&quot;</span>, orderId, apiClientId, apiOrderId)</div>
<div class="line">        End Sub</div>
</div><!-- fragment -->  </li>
<li>
<div class="fragment"><div class="line"><span class="keywordtype">void</span> TestCppClient::orderBound(<span class="keywordtype">long</span> <span class="keywordtype">long</span> orderId, <span class="keywordtype">int</span> apiClientId, <span class="keywordtype">int</span> apiOrderId) {</div>
<div class="line">    printf(<span class="stringliteral">&quot;Order bound. OrderId: %lld, ApiClientId: %d, ApiOrderId: %d\n&quot;</span>, orderId, apiClientId, apiOrderId);</div>
<div class="line">}</div>
</div><!-- fragment -->  </li>
<li>
<div class="fragment"></div><!-- fragment -->  </li>
</ul>
<p><br/>
<br/>
 </p>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.4-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">This website uses cookies. By navigating through it you agree to the use of cookies. Copyright Interactive Brokers 2016 </li>
  </ul>
</div>
<!--BEGIN !SS360 SEARCH-->
<script>
var ss360Config = {
    /********* General *********/
    siteId: 'tws-api-doc',
    animationSpeed: 250,
    themeColor: '#A02424',
    showErrors: false,
    /********* Search Box *********/
    searchBoxSelector: '#searchBox',
    searchBoxStyle: {
        text: {
            color: '#ffffff',
            size: '12px',
        },
        background: {
            color: '#000000',
        },
        padding: '8px',        
        icon: {
            image: undefined,
        },
        border: {
            color: '#464646',
            radius: '7px',
        },
        button: {
            text: ' ',
            icon: 'magnifier'
        }
    },
    placeholder: 'Search...',
    searchButton: '#ss360SearchButton',
    /********* Search Suggestions *********/
    showSearchSuggestions: true,
    suggestionsStyle: {
        text: {
            color: '#333333',
        },
        background: {
            color: '#ffffff'
        },
        padding: '10px',
        distanceFromTop: '7px',
        border: {
            color: '#dddddd',
            radius: '7px',
        },
    },
    showImagesSuggestions: true,
    numSuggestions: 6,
    maxQuerySuggestions: 3,
    minChars: 3,
    highlight: true,
    /********* Search Results *********/
    searchResults: undefined,
    searchResultsCaption: 'We found #COUNT# results for your query "#QUERY#"',
    numResults: 50,
    navigation: 'top',
    highlightQueryTerms: true,
    showImagesResults: true,
    showResultLink: true,
    resultLinksOpenNewTab: false,
    queryCorrectionText: 'Did you mean "#CORRECTION#"?',
    noResultsText: 'Sorry, we have not found any matches for your query.',
    otherContentGroupName: 'Other',
    ignoreOtherContentGroup: false,
    moreResultsButton: undefined,
    moreResultsPagingSize: 50,
    groupResults: true,
    loader: {
        type: 'circle'
    }
}
</script>
<script src="https://sitesearch360.com/cdn/sitesearch360-v10.min.js"></script>
<!--END !SS360 SEARCH-->
</body>
</html>
