<!-- HTML header for doxygen 1.8.4-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<title>TWS API v9.72+: TWS RTD Server Samples</title>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="https://www.interactivebrokers.com/favicon.ico" rel="shortcut icon">
<script>
$(document).ready(function(){
		var picked=getCookie("picked");
		if (picked != "") {
			if (!$(this).hasClass("active")) {
				var tabNum = $(this).index();
				var nthChild = picked;
				$("ul#tabs li.active").removeClass("active");
				$(this).addClass("active");
				$("ul#tab li.active").removeClass("active");
				$("ul#tab li:nth-child("+nthChild+")").addClass("active");
				$("ul#tabs li:nth-child("+nthChild+")").addClass("active");
				setCookie("picked", nthChild, 1);
			}
		}
		$("ul#tabs li").click(function(e){
			if (!$(this).hasClass("active")) {
			var tabNum = $(this).index();
			var nthChild = tabNum+1;
			$("ul#tabs li.active").removeClass("active");
			$(this).addClass("active");
			$("ul#tab li.active").removeClass("active");
			$("ul#tab li:nth-child("+nthChild+")").addClass("active");
			setCookie("picked", nthChild, 1);
		}
    });
});
function setCookie(cname, cvalue, exdays) {
    var d = new Date();
    d.setTime(d.getTime() + (exdays*24*60*60*1000));
    var expires = "expires="+d.toUTCString();
    document.cookie = cname + "=" + cvalue + "; " + expires;
} 
function getCookie(cname) {
    var name = cname + "=";
    var ca = document.cookie.split(';');
    for(var i=0; i<ca.length; i++) {
        var c = ca[i];
        while (c.charAt(0)==' ') c = c.substring(1);
        if (c.indexOf(name) == 0) return c.substring(name.length,c.length);
    }
    return "";
} 
function checkCookie() {
    var picked=getCookie("picked");
    if (picked != "") {
        alert("Welcome again " + picked);
    }else{
        //username = prompt("Please enter your name:", "");
        if (picked != "" && picked != null) {
            setCookie("picked", 1, 365);
        }
    }
}
</script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="ib_theme.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea" style="background-color:black;">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr>
  <td id="projectlogo"><img alt="Logo" src="nav_iblogo.png"/></a></td>
  <td style="padding: 0 0 0 1em;">
   <ul id="tabs"><li class="active">C#</li><li>Java</li><li>VB</li><li>C++</li><li>Python</li></ul>
  </td>
  <td><a href="https://www.interactivebrokers.com/en/index.php?f=customerService&p=email" style="color:#C7C7C7;font-weight:bold;padding: 0 0 0 1em;">Contact us</a></td>
  <!--BEGIN GCS_SEARCHBOX-->
  <td style="position: absolute; right: 0;">
   <div id="google-custom-search" align="right" style="vertical-align: top;">
   <script>
  (function() {
    var cx = '002885114636493240026:q6smajphkxq';
	var gcse = document.createElement('script');
    gcse.type = 'text/javascript';
    gcse.async = true;
    gcse.src = 'https://cse.google.com/cse.js?cx=' + cx;
    var s = document.getElementsByTagName('script')[0];
    s.parentNode.insertBefore(gcse, s);
  })();
	</script>
	<gcse:search newWindow="false" enableHistory="true"></gcse:search>
   </div>
   </td>
  <!--END !GCS_SEARCHBOX-->
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('rtd_examples.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="headertitle">
<div class="title">TWS RTD Server Samples </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>This page is provided as a demonstration of RTD formulas categorized by security type as well as syntax type. Make sure to get yourself familiar with the various available Syntaxs for RTD formula before looking into the samples.</p>
<ul>
<li><a class="el" href="rtd_simple_syntax.html">Simple Syntax</a></li>
<li><a class="el" href="rtd_complex_syntax.html">Complex Syntax</a></li>
<li><a class="el" href="rtd_mixed_syntax.html">Mixed Syntax</a></li>
</ul>
<h1><a class="anchor" id="rtd_samples_fx"></a>
Forex Pairs</h1>
<h2><a class="anchor" id="rtd_sample_fx_simple"></a>
- Simple Syntax</h2>
<p><code class="rtd_formula"> =RTD("Tws.TwsRtdServerCtrl",,"EUR.USD/CASH", "Bid") </code></p>
<p><em>Comment: Forex Ticker is defined in format "CURRENCY1.CURRENCY2/CASH".</em></p>
<h2><a class="anchor" id="rtd_sample_fx_complex"></a>
- Complex Syntax</h2>
<p><code class="rtd_formula"> =RTD("Tws.TwsRtdServerCtrl",,"sym=EUR","cur=USD", "exch=IDEALPRO", "sec=CASH", "qt=Bid") </code></p>
<p><em>Comment: For Complex Syntax, Forex <b>Symbol</b> is defined as the foreign currency, and the <b>Currency</b> is defined as the base currency.</em></p>
<h2><a class="anchor" id="rtd_sample_fx_mixed"></a>
- Mixed Syntax</h2>
<p><code class="rtd_formula"> =RTD("Tws.TwsRtdServerCtrl",,"EUR.USD/CASH", "Bid", "port=1234", "clientId=1") </code></p>
<p><br />
 </p>
<h1><a class="anchor" id="rtd_samples_stk"></a>
Stocks</h1>
<h2><a class="anchor" id="rtd_sample_stk_simple"></a>
- Simple Syntax</h2>
<p><code class="rtd_formula"> =RTD("Tws.TwsRtdServerCtrl",,"IBM") </code></p>
<p><em>Comment: Default values are used: <b>Exchange</b> = "SMART", <b>Currency</b> = "USD", <b>Security Type</b> = "STK", <b>Topic</b> = "Last".</em></p>
<p><code class="rtd_formula"> =RTD("Tws.TwsRtdServerCtrl",,"IBM@ISLAND", "Bid") </code></p>
<p><em>Comment: Specifying the <b>Exchange</b> directly means requesting data from that exchange specifically.</em></p>
<p><code class="rtd_formula"> =RTD("Tws.TwsRtdServerCtrl",,"BMO@SMART//////CAD", "Bid") </code></p>
<p><em>Comment: Currency = "CAD" is needed for BMO listed on TSE, but the rest of the fields can be left out as blank.</em></p>
<p><code class="rtd_formula"> =RTD("Tws.TwsRtdServerCtrl",,"ABG.P@SMART//////EUR", "Close") </code></p>
<p><em>Comment: Stock symbols that contain a '.' are supported in Simple Syntax as well.</em></p>
<p><code class="rtd_formula"> =RTD("Tws.TwsRtdServerCtrl",,"MSFT@SMART/ISLAND", "Ask") </code></p>
<p><em>Comment: For certain smart-routed stock contracts that have the same <b>Symbol</b>, <b>Currency</b> and <b>Exchange</b>, you would also need to specify the <b>PrimaryExchange</b> attribute to uniquely define the contract. This should be defined as the native exchange of a contract, and is good practice for all stocks.</em></p>
<h2><a class="anchor" id="rtd_sample_stk_complex"></a>
- Complex Syntax</h2>
<p><code class="rtd_formula"> =RTD("Tws.TwsRtdServerCtrl",,"sym=IBM", "sec=STK", "exch=SMART", "cur=USD", "qt=Volume") </code></p>
<p><em>Comment: Generally speaking, using the <b>Symbol</b>, <b>SecurityType</b>="STK", <b>Currency</b> and <b>Exchange</b> is sufficient to define a stock.</em></p>
<p><code class="rtd_formula"> =RTD("Tws.TwsRtdServerCtrl",,"sym=MSFT", "sec=STK", "exch=SMART", "cur=USD", "prim=ISLAND", "qt=Open") </code></p>
<p><em>Comment: Specifying the <b>PrimaryExchange</b> as a seprate string to resolve contract ambiguity.</em></p>
<h2><a class="anchor" id="rtd_sample_stk_mixed"></a>
- Mixed Syntax</h2>
<p><code class="rtd_formula"> =RTD("Tws.TwsRtdServerCtrl",,"MSFT@SMART", "prim=ISLAND", "qt=High", "paper") </code></p>
<p><em>Comment: Use the pre-defined string <em>"paper"</em> to connect to the default port 7497 for paper TWS sessions.</em></p>
<p><br />
 </p>
<h1><a class="anchor" id="rtd_samples_ind"></a>
Indexes</h1>
<h2><a class="anchor" id="rtd_sample_ind_simple"></a>
- Simple Syntax</h2>
<p><code class="rtd_formula"> =RTD("Tws.TwsRtdServerCtrl",,"SPX@CBOE/IND", "Last") </code></p>
<p><em>Comment: Default <b>Currency</b> = "USD" is used.</em></p>
<p><code class="rtd_formula"> =RTD("Tws.TwsRtdServerCtrl",,"DAX@DTB/IND/////EUR", "Last") </code></p>
<h2><a class="anchor" id="rtd_sample_ind_complex"></a>
- Complex Syntax</h2>
<p><code class="rtd_formula"> =RTD("Tws.TwsRtdServerCtrl",,"sym=INDU","cur=USD", "exch=NYSE", "sec=IND", "qt=Close") </code></p>
<h2><a class="anchor" id="rtd_sample_ind_mixed"></a>
- Mixed Syntax</h2>
<p><code class="rtd_formula"> =RTD("Tws.TwsRtdServerCtrl",,"DAX@DTB/IND", "cur=EUR", "qt=Last", "host=1.2.3.4") </code></p>
<p><br />
 </p>
<h1><a class="anchor" id="rtd_samples_cfd"></a>
CFDs</h1>
<h2><a class="anchor" id="rtd_sample_cfd_simple"></a>
- Simple Syntax</h2>
<p><code class="rtd_formula"> =RTD("Tws.TwsRtdServerCtrl",,"IBDE30@SMART/CFD/////EUR", "Bid") </code></p>
<h2><a class="anchor" id="rtd_sample_cfd_complex"></a>
- Complex Syntax</h2>
<p><code class="rtd_formula"> =RTD("Tws.TwsRtdServerCtrl",,"sym=IBDE30","cur=EUR", "exch=SMART", "sec=CFD", "qt=ASK") </code></p>
<h2><a class="anchor" id="rtd_sample_cfd_mixed"></a>
- Mixed Syntax</h2>
<p><code class="rtd_formula"> =RTD("Tws.TwsRtdServerCtrl",,"IBDE30@SMART/CFD", "cur=EUR", "Bid", "gw") </code></p>
<p><em>Comment: Use the pre-defined string <em>"gw"</em> to connect to the default port 4001 for live IB Gateway sessions.</em></p>
<p><em><b>Note: </b>Only Index CFD data can be directly queried via the API, but not equity CFD. Please directly request data for the underlying equity if you need data for an equity CFD contract.</em></p>
<p><br />
 </p>
<h1><a class="anchor" id="rtd_samples_fut"></a>
Futures</h1>
<h2><a class="anchor" id="rtd_sample_fut_simple"></a>
- Simple Syntax</h2>
<p><code class="rtd_formula"> =RTD("Tws.TwsRtdServerCtrl",,"ES@GLOBEX//FUT/201712///USD", "Bid") </code></p>
<p><em>Comment: Use underlying <b>Symbol</b> and <b>LastTradeDateOrContractMonth</b> to define futures contract.</em></p>
<h2><a class="anchor" id="rtd_sample_fut_complex"></a>
- Complex Syntax</h2>
<p><code class="rtd_formula"> =RTD("Tws.TwsRtdServerCtrl",,"loc=ESZ7","cur=USD", "exch=GLOBEX", "sec=FUT", "qt=Ask") </code></p>
<p><em>Comment: The <b>LastTradeDateOrContractMonth</b> and underlying <b>Symbol</b> can be replaced with the contract's own symbol, also known as <b>LocalSymbol</b> (named as Symbol within the TWS' Contract Description dialog). Local Symbol is not available in Simple Syntax.</em></p>
<h2><a class="anchor" id="rtd_sample_fut_mixed"></a>
- Mixed Syntax</h2>
<p><code class="rtd_formula"> =RTD("Tws.TwsRtdServerCtrl",,"DAX@DTB//FUT/201706///EUR", "mult=5", "Low") </code></p>
<p><em>Comment: For futures that have multipler <b>Multipliers</b> (e.g. DAX has 5 and 25), Simple Syntax is not adequate to define the contract uniquely. Mixed Syntax can help to add addition specification for the <b>Multiplier</b>.</em></p>
<p><br />
 </p>
<h1><a class="anchor" id="rtd_samples_opt"></a>
Options</h1>
<h2><a class="anchor" id="rtd_sample_opt_simple"></a>
- Simple Syntax</h2>
<p><code class="rtd_formula"> =RTD("Tws.TwsRtdServerCtrl",,"GOOG@SMART//OPT/20170421/C/835/USD", "Bid") </code></p>
<p><em>Comment: Use <b>Symbol</b>, <b>LastTradeDateOrContractMonth</b>, <b>Right</b> and <b>Strike</b> to define options contract.</em></p>
<h2><a class="anchor" id="rtd_sample_opt_complex"></a>
- Complex Syntax</h2>
<p><code class="rtd_formula"> =RTD("Tws.TwsRtdServerCtrl",,"loc=C DBK  DEC 20  1600", "cur=EUR", "exch=DTB", "sec=OPT", "qt=Close") </code></p>
<p><em>Comment: Use <b>LocalSymbol</b> to define options contract.</em></p>
<h2><a class="anchor" id="rtd_sample_opt_mixed"></a>
- Mixed Syntax</h2>
<p><code class="rtd_formula"> =RTD("Tws.TwsRtdServerCtrl",,"SANT@MEFFRV//OPT/20190621/C/7.5/EUR", "mult=100", "tc=SANEU", "Close") </code></p>
<p><em>Comment: For options that have multipler <b>Multipliers</b> or <b>TradingClasses</b>, Simple Syntax is not adequate to define the contract uniquely. Mixed Syntax can help to add addition specifications for <b>Multipler</b> and <b>TradingClass</b> properly.</em></p>
<p><br />
 </p>
<h1><a class="anchor" id="rtd_samples_fop"></a>
Futures on Options</h1>
<h2><a class="anchor" id="rtd_sample_fop_simple"></a>
- Simple Syntax</h2>
<p><code class="rtd_formula"> =RTD("Tws.TwsRtdServerCtrl",,"ES@GLOBEX//FOP/20180316/C/1000/USD", "Close") </code></p>
<p><em>Comment: Futures on Options follow the same rule as conventional option contracts.</em></p>
<h2><a class="anchor" id="rtd_sample_fop_complex"></a>
- Complex Syntax</h2>
<p><code class="rtd_formula"> =RTD("Tws.TwsRtdServerCtrl",,"loc=ESH8 C1000", "cur=USD", "exch=GLOBEX", "sec=FOP", "qt=Close") </code></p>
<h2><a class="anchor" id="rtd_sample_fop_mixed"></a>
- Mixed Syntax</h2>
<p><code class="rtd_formula"> =RTD("Tws.TwsRtdServerCtrl",,"ES@GLOBEX//FOP/20180316/C/1000/USD", "mult=50", "tc=ES", "Close") </code></p>
<p><br />
 </p>
<h1><a class="anchor" id="rtd_samples_bond"></a>
Bonds</h1>
<h2><a class="anchor" id="rtd_sample_bond_simple"></a>
- Simple Syntax</h2>
<p><code class="rtd_formula"> =RTD("Tws.TwsRtdServerCtrl",,"912828C57@SMART//BOND", "Bid") </code></p>
<p><em>Comment: Bonds can be specified by defining the <b>Symbol</b> as the CUSIP. <b>Currency</b> = "USD" is used as default here.</em></p>
<h2><a class="anchor" id="rtd_sample_bond_complex"></a>
- Complex Syntax</h2>
<p><code class="rtd_formula"> =RTD("Tws.TwsRtdServerCtrl",,"sym=912828C57","cur=USD", "exch=SMART", "sec=BOND", "qt=Bid") </code></p>
<p><code class="rtd_formula"> =RTD("Tws.TwsRtdServerCtrl",,"conid=147554578", "exch=SMART", "qt=Ask") </code></p>
<p><em>Comment: Bonds can also be defined with the <b>ConId</b> and <b>Exchange</b> as with any security type.</em></p>
<h2><a class="anchor" id="rtd_sample_bond_mixed"></a>
- Mixed Syntax</h2>
<p><code class="rtd_formula"> =RTD("Tws.TwsRtdServerCtrl",,"912828C57@SMART, "sec=BOND", "Bid", "gwpaper") </code></p>
<p><em>Comment: Use the pre-defined string <em>"gwpaper"</em> to connect to the default port 4002 for paper IB Gateway sessions.</em></p>
<p><br />
 </p>
<h1><a class="anchor" id="rtd_samples_fund"></a>
Mutual Funds</h1>
<h2><a class="anchor" id="rtd_sample_fund_simple"></a>
- Simple Syntax</h2>
<p><code class="rtd_formula"> =RTD("Tws.TwsRtdServerCtrl",,"VINIX@FUNDSERV//FUND", "Close") </code></p>
<h2><a class="anchor" id="rtd_sample_fund_complex"></a>
- Complex Syntax</h2>
<p><code class="rtd_formula"> =RTD("Tws.TwsRtdServerCtrl",,"sym=VINIX","cur=USD", "exch=FUNDSERV", "sec=FUND", "qt=Close") </code></p>
<h2><a class="anchor" id="rtd_sample_fund_mixed"></a>
- Mixed Syntax</h2>
<p><code class="rtd_formula"> =RTD("Tws.TwsRtdServerCtrl",,"VINIX@FUNDSERV//FUND", "Bid", "host=1.2.3.4", "port=1234", "clientId=1") </code></p>
<p><br />
 </p>
<h1><a class="anchor" id="rtd_samples_cmdty"></a>
Commodities</h1>
<h2><a class="anchor" id="rtd_sample_cmdty_simple"></a>
- Simple Syntax</h2>
<p><code class="rtd_formula"> =RTD("Tws.TwsRtdServerCtrl",,"XAUUSD@SMART//CMDTY", "Bid") </code></p>
<h2><a class="anchor" id="rtd_sample_cmdty_complex"></a>
- Complex Syntax</h2>
<p><code class="rtd_formula"> =RTD("Tws.TwsRtdServerCtrl",,"sym=XAUUSD","cur=USD", "exch=SMART", "sec=CMDTY", "qt=Ask") </code></p>
<h2><a class="anchor" id="rtd_sample_cmdty_mixed"></a>
- Mixed Syntax</h2>
<p><code class="rtd_formula"> =RTD("Tws.TwsRtdServerCtrl",,"XAUUSD@SMART//CMDTY", "Last", "port=1234", "clientId=1") </code></p>
<p><br />
 </p>
<h1><a class="anchor" id="rtd_samples_spread"></a>
Spreads</h1>
<p>Spread contracts, also known as combos or combinations, combine two or more instruments. To define a combination contract it is required to know the Contract ID of the combo legs. The <b>ConId</b> can be easily found in the <a class="el" href="contracts.html">Contract Description</a> page in TWS. The spread contract's symbol can be either the symbol of one of the contract legs or, for two-legged combinations the symbols of both legs separated by a comma as shown in the examples below.</p>
<p><a class="el" href="rtd_simple_syntax.html">Simple Syntax</a> is not sufficient to define spread contracts. You need to use either <a class="el" href="rtd_complex_syntax.html">Complex Syntax</a> or <a class="el" href="rtd_mixed_syntax.html">Mixed Syntax</a> . As a reminder, here is the string formula for defining the Combo Legs:</p>
<p>"cmb=&lt;conid1&gt;#&lt;ratio1&gt;#&lt;action1&gt;#&lt;exchange1&gt;;&lt;conid2&gt;#&lt;ratio2&gt;#&lt;action2&gt;#&lt;exchange2&gt;;"</p>
<h2><a class="anchor" id="rtd_samples_spread_stk"></a>
Stock Spread</h2>
<p>Buy 1 IBKR + Sell 1 MCD:</p>
<h3><a class="anchor" id="rtd_samples_spread_stk_complex"></a>
- Complex Syntax</h3>
<p><code class="rtd_formula"> =RTD("Tws.TwsRtdServerCtrl",,"sym=IBKR,MCD", "exch=SMART", "cur=USD", "sec=BAG", "cmb=43645865#1#BUY#SMART;9408#1#SELL#SMART;", "Bid") </code></p>
<h3><a class="anchor" id="rtd_samples_spread_stk_mixed"></a>
- Mixed Syntax</h3>
<p><code class="rtd_formula"> =RTD("tws.twsrtdserverctrl",,"IBKR,MCD@SMART//BAG////USD", "cmb=43645865#1#BUY#SMART;9408#1#SELL#SMART;", "Bid") </code></p>
<p><em><b>Note: </b>EFPs are simply defined as a bag contract of stock and corresponding SSF with a ratio of 100:1.</em></p>
<p><br />
 </p>
<h2><a class="anchor" id="rtd_samples_spread_fut"></a>
Futures Spread</h2>
<p>Buy 1 VXJ7 + Sell 1 VXK7:</p>
<h3><a class="anchor" id="rtd_samples_spread_fut_complex"></a>
- Complex Syntax</h3>
<p><code class="rtd_formula"> =RTD("tws.twsrtdserverctrl",,"sym=VIX", "exch=CFE", "cur=USD", "sec=BAG", "cmb=249139906#1#BUY#CFE;252623425#1#SELL#CFE;", "Bid") </code></p>
<h3><a class="anchor" id="rtd_samples_spread_fut_mixed"></a>
- Mixed Syntax</h3>
<p><code class="rtd_formula"> =RTD("tws.twsrtdserverctrl",,"VIX@CFE//BAG////USD", "cmb=249139906#1#BUY#CFE;252623425#1#SELL#CFE;", "Bid") </code></p>
<p><br />
 </p>
<h2><a class="anchor" id="rtd_samples_spread_opt"></a>
Options Spread</h2>
<p>Buy 1 DBK May19'17 15 CALL  + Sell 1 DBK May19'17 16 CALL :</p>
<h3><a class="anchor" id="rtd_samples_spread_opt_complex"></a>
- Complex Syntax</h3>
<p><code class="rtd_formula"> =RTD("tws.twsrtdserverctrl",,"sym=DBK", "exch=DTB", "cur=EUR", "sec=BAG", "cmb=270579950#1#BUY#DTB;270579957#1#SELL#DTB;", "Bid") </code></p>
<h3><a class="anchor" id="rtd_samples_spread_opt_mixed"></a>
- Mixed Syntax</h3>
<p><code class="rtd_formula"> =RTD("tws.twsrtdserverctrl",,"DBK@DTB//BAG////EUR", "cmb=270579950#1#BUY#DTB;270579957#1#SELL#DTB;", "Bid") </code></p>
<p><br />
 </p>
<h2><a class="anchor" id="rtd_samples_spread_intercmdty"></a>
Inter-Commodity Futures Spread</h2>
<p>For Inter-Commodity futures, the 'Local Symbol' field in TWS is used for the 'Symbol' field in the TWS <a class="el" href="contracts.html">Contract Description</a>.</p>
<p>Buy 1 CL May'17  + Sell 1 BZ Jun'17 :</p>
<h3><a class="anchor" id="rtd_samples_spread_intercmdty_complex"></a>
- Complex Syntax</h3>
<p><code class="rtd_formula"> =RTD("tws.twsrtdserverctrl",,"sym=CL.BZ", "exch=NYMEX", "cur=USD", "sec=BAG", "cmb=55977404#1#BUY#NYMEX;55807026#1#SELL#NYMEX;", "Bid") </code></p>
<h3><a class="anchor" id="rtd_samples_spread_intercmdty_mixed"></a>
- Mixed Syntax</h3>
<p><code class="rtd_formula"> =RTD("tws.twsrtdserverctrl",,"CL.BZ@NYMEX//BAG////USD", "cmb=55977404#1#BUY#NYMEX;55807026#1#SELL#NYMEX;", "Bid") </code></p>
<p><em><b>Note: </b>Please be mindful of the fact that Inter-commodity Futures contracts are spread contracts offered by the exchange directly, and the contract definition is different from regular combo contracts. Please make sure all the contract attributes are specified in accordance with TWS <a class="el" href="contracts.html">Contract Description</a> page. </em></p>
<p><br />
 </p>
<h1><a class="anchor" id="rtd_samples_sample_spreadsheet"></a>
Sample Spreadsheet</h1>
<p>A sample RTD spreadsheet is provided within the API installation directory. By default, you will be able to find it under <em>C:\TWS API\samples\ExcelTwsRtdServer.xls</em>.</p>
<p><br />
<br />
 </p>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.4-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">This website uses cookies. By navigating through it you agree to the use of cookies. Copyright Interactive Brokers 2016 </li>
  </ul>
</div>
<!--BEGIN GCS_SEARCHBOX-->
<style type='text/css'>
	.gsc-control-cse{
		font family: Arial, sans-serif;
		border-color: #000100;
		background-color: #000000;
		width:260px;
		height: 20px;
		padding-top: 6px;
	}
	input.gsc-search-button {
		background-color: #6D1800;
		color: #fff;
		cursor: pointer;
	}
	input.gsc-search-button:hover {
		background-color: #A02200;
	}
	td.gsc-clear-button {
		position: relative;
		right: 85px;
	}
  }
</style>
<!--END GCS_SEARCHBOX-->
</body>
</html>
