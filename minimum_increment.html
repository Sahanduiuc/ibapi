<!-- HTML header for doxygen 1.8.4-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.4"/>
<title>TWS API v9.72+: Minimum Price Increment</title>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="https://www.interactivebrokers.com/favicon.ico" rel="shortcut icon">
<script>
$(document).ready(function(){
		var picked=getCookie("picked");
		if (picked != "") {
			if (!$(this).hasClass("active")) {
				var tabNum = $(this).index();
				var nthChild = picked;
				$("ul#tabs li.active").removeClass("active");
				$(this).addClass("active");
				$("ul#tab li.active").removeClass("active");
				$("ul#tab li:nth-child("+nthChild+")").addClass("active");
				$("ul#tabs li:nth-child("+nthChild+")").addClass("active");
				setCookie("picked", nthChild, 1);
			}
		}
		$("ul#tabs li").click(function(e){
			if (!$(this).hasClass("active")) {
			var tabNum = $(this).index();
			var nthChild = tabNum+1;
			$("ul#tabs li.active").removeClass("active");
			$(this).addClass("active");
			$("ul#tab li.active").removeClass("active");
			$("ul#tab li:nth-child("+nthChild+")").addClass("active");
			setCookie("picked", nthChild, 1);
		}
    });
});
function setCookie(cname, cvalue, exdays) {
    var d = new Date();
    d.setTime(d.getTime() + (exdays*24*60*60*1000));
    var expires = "expires="+d.toUTCString();
    document.cookie = cname + "=" + cvalue + "; " + expires;
} 
function getCookie(cname) {
    var name = cname + "=";
    var ca = document.cookie.split(';');
    for(var i=0; i<ca.length; i++) {
        var c = ca[i];
        while (c.charAt(0)==' ') c = c.substring(1);
        if (c.indexOf(name) == 0) return c.substring(name.length,c.length);
    }
    return "";
} 
function checkCookie() {
    var picked=getCookie("picked");
    if (picked != "") {
        alert("Welcome again " + picked);
    }else{
        //username = prompt("Please enter your name:", "");
        if (picked != "" && picked != null) {
            setCookie("picked", 1, 365);
        }
    }
}
</script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="ib_theme.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea" style="background-color:black;">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr>
  <td id="projectlogo"><img alt="Logo" src="nav_iblogo.png"/></a></td>
  <td style="padding: 0 0 0 1em;">
   <ul id="tabs"><li class="active">C#</li><li>Java</li><li>VB</li><li>C++</li><li>Python</li></ul>
  </td>
  <!--BEGIN SS360 SEARCH-->
  <td>
	<div id="site-search-360" align="right" style="padding-left: 1em;">
		<input id="searchBox" type="search" placeholder="Search..." />
		<input id="ss360SearchButton" type="submit" />
	</div>
  </td>
  <!--END SS360 SEARCH-->
  <div id="contact-us" align="right">
	<td><a href="https://www.interactivebrokers.com/en/index.php?f=customerService&p=email" style="color:#C7C7C7;font-weight:bold;padding: 0 0 0 1em;">Contact us</a></td>
  </div>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.4 -->
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('minimum_increment.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="headertitle">
<div class="title">Minimum Price Increment </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>The minimum increment is the minimum difference between price levels at which a contract can trade. Some trades have constant price increments at all price levels. However some contracts have difference minimum increments on different exchanges on which they trade and/or different minimum increments at different price levels. In the contractDetails class, there is a field 'minTick' which specifies the smallest possible minimum increment encountered on any exchange or price. For complete information about minimum price increment structure, there is the IB Contracts and Securities search site, or the API function reqMarketRule starting in API v973.03 and TWS 966.</p>
<p>The function reqContractDetails when used with a Contract object will return contractDetails object to the contractDetails function which has a list of the valid exchanges where the instrument trades. Also within the contractDetails object is a field called marketRuleIDs which has a list of "market rules". A market rule is defined as a rule which defines the minimum price increment given the price. The market rule list returned in contractDetails has a list of market rules in the same order as the list of valid exchanges. In this way, the market rule ID for a contract on a particular exchange can be determined.</p>
<p>With the market rule ID number, the corresponding rule can be found with the API function <a class="el" href="classIBApi_1_1EClient.html#af4e8c23a0d1e480ce84320b9e6b525dd" title="Requests details about a given market rule  The market rule for an instrument on a particular exchang...">IBApi::EClient::reqMarketRule</a>:</p>
<ul id="tab">
<li class="active">
<div class="fragment"><div class="line">            client.reqMarketRule(26);</div>
<div class="line">            client.reqMarketRule(240);</div>
</div><!-- fragment -->  </li>
<li>
<div class="fragment"><div class="line">        client.reqMarketRule(26);</div>
<div class="line">        client.reqMarketRule(240);</div>
</div><!-- fragment -->  </li>
<li>
<div class="fragment"><div class="line">        client.reqMarketRule(26)</div>
<div class="line">        client.reqMarketRule(240)</div>
</div><!-- fragment -->  </li>
<li>
<div class="fragment"><div class="line">    m_pClient-&gt;reqMarketRule(26);</div>
<div class="line">    m_pClient-&gt;reqMarketRule(635);</div>
<div class="line">    m_pClient-&gt;reqMarketRule(1388);</div>
</div><!-- fragment -->  </li>
<li>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;        self.reqMarketRule(26)</div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;        self.reqMarketRule(240)</div>
</div><!-- fragment -->  </li>
</ul>
<p>The rule is returned to the function <a class="el" href="interfaceIBApi_1_1EWrapper.html#a0f6fb4db17b7e1cb5c4092f40d947827" title="returns minimum price increment structure for a particular market rule ID market rule IDs for an inst...">IBApi::EWrapper::marketRule</a></p>
<ul id="tab">
<li class="active">
<div class="fragment"><div class="line">        <span class="keyword">public</span> <span class="keywordtype">void</span> marketRule(<span class="keywordtype">int</span> marketRuleId, PriceIncrement[] priceIncrements) </div>
<div class="line">        {</div>
<div class="line">            Console.WriteLine(<span class="stringliteral">&quot;Market Rule Id: &quot;</span> + marketRuleId);</div>
<div class="line">            <span class="keywordflow">foreach</span> (var priceIncrement <span class="keywordflow">in</span> priceIncrements) </div>
<div class="line">            {</div>
<div class="line">                Console.WriteLine(<span class="stringliteral">&quot;Low Edge: {0}, Increment: {1}&quot;</span>, ((decimal)priceIncrement.LowEdge).ToString(), ((decimal)priceIncrement.Increment).ToString());</div>
<div class="line">            }</div>
<div class="line">        }</div>
</div><!-- fragment -->  </li>
<li>
<div class="fragment"><div class="line">    @Override</div>
<div class="line">    <span class="keyword">public</span> <span class="keywordtype">void</span> marketRule(<span class="keywordtype">int</span> marketRuleId, PriceIncrement[] priceIncrements) {</div>
<div class="line">        DecimalFormat df = <span class="keyword">new</span> DecimalFormat(<span class="stringliteral">&quot;#.#&quot;</span>);</div>
<div class="line">        df.setMaximumFractionDigits(340);</div>
<div class="line">        System.out.println(<span class="stringliteral">&quot;Market Rule Id: &quot;</span> + marketRuleId);</div>
<div class="line">        <span class="keywordflow">for</span> (PriceIncrement pi : priceIncrements) {</div>
<div class="line">            System.out.println(<span class="stringliteral">&quot;Price Increment. Low Edge: &quot;</span> + df.format(pi.lowEdge()) + <span class="stringliteral">&quot;, Increment: &quot;</span> + df.format(pi.increment()));</div>
<div class="line">        }</div>
<div class="line">    }</div>
</div><!-- fragment -->  </li>
<li>
<div class="fragment"><div class="line">        Public Sub marketRule(marketRuleId As Integer, priceIncrements As PriceIncrement()) Implements EWrapper.marketRule</div>
<div class="line">            Console.WriteLine(&quot;Market Rule Id:&quot; &amp; marketRuleId)</div>
<div class="line"></div>
<div class="line">            For Each priceIncrement In priceIncrements</div>
<div class="line">                Console.WriteLine(&quot;LowEdge: &quot; &amp; CDec(priceIncrement.LowEdge) &amp; &quot; Increment: &quot; &amp; CDec(priceIncrement.Increment))</div>
<div class="line">            Next</div>
<div class="line">        End Sub</div>
</div><!-- fragment -->  </li>
<li>
<div class="fragment"><div class="line"><span class="keywordtype">void</span> TestCppClient::marketRule(<span class="keywordtype">int</span> marketRuleId, <span class="keyword">const</span> std::vector&lt;PriceIncrement&gt; &amp;priceIncrements) {</div>
<div class="line">    printf(<span class="stringliteral">&quot;Market Rule Id: %d\n&quot;</span>, marketRuleId);</div>
<div class="line">    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = 0; i &lt; priceIncrements.size(); i++) {</div>
<div class="line">        printf(<span class="stringliteral">&quot;Low Edge: %g, Increment: %g\n&quot;</span>, priceIncrements[i].lowEdge, priceIncrements[i].increment);</div>
<div class="line">    }</div>
<div class="line">}</div>
</div><!-- fragment -->  </li>
<li>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;    <span class="keyword">def </span>marketRule(self, marketRuleId: int, priceIncrements: ListOfPriceIncrements):</div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;        super().marketRule(marketRuleId, priceIncrements)</div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;        print(<span class="stringliteral">&quot;Market Rule ID: &quot;</span>, marketRuleId)</div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;        <span class="keywordflow">for</span> priceIncrement <span class="keywordflow">in</span> priceIncrements:</div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;            print(<span class="stringliteral">&quot;Price Increment. Low Edge: &quot;</span>, priceIncrement.lowEdge,</div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;                  <span class="stringliteral">&quot;, Increment: &quot;</span>, priceIncrement.increment)</div>
</div><!-- fragment -->  </li>
</ul>
<ul>
<li>For forex, there is an option in TWS/IB Gateway configuration which allows trading in 1/10 pips instead of 1/5 pips (the default).</li>
<li>TWS Global Configuration -&gt; Display -&gt; Ticker Row -&gt; Allow Forex trading in 1/10 pips</li>
</ul>
<p><br/>
<br/>
 </p>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.4-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">This website uses cookies. By navigating through it you agree to the use of cookies. Copyright Interactive Brokers 2016 </li>
  </ul>
</div>
<!--BEGIN !SS360 SEARCH-->
<script>
var ss360Config = {
    /********* General *********/
    siteId: 'tws-api-doc',
    animationSpeed: 250,
    themeColor: '#A02424',
    showErrors: false,
    /********* Search Box *********/
    searchBoxSelector: '#searchBox',
    searchBoxStyle: {
        text: {
            color: '#ffffff',
            size: '12px',
        },
        background: {
            color: '#000000',
        },
        padding: '8px',        
        icon: {
            image: undefined,
        },
        border: {
            color: '#464646',
            radius: '7px',
        },
        button: {
            text: ' ',
            icon: 'magnifier'
        }
    },
    placeholder: 'Search...',
    searchButton: '#ss360SearchButton',
    /********* Search Suggestions *********/
    showSearchSuggestions: true,
    suggestionsStyle: {
        text: {
            color: '#333333',
        },
        background: {
            color: '#ffffff'
        },
        padding: '10px',
        distanceFromTop: '7px',
        border: {
            color: '#dddddd',
            radius: '7px',
        },
    },
    showImagesSuggestions: true,
    numSuggestions: 6,
    maxQuerySuggestions: 3,
    minChars: 3,
    highlight: true,
    /********* Search Results *********/
    searchResults: undefined,
    searchResultsCaption: 'We found #COUNT# results for your query "#QUERY#"',
    numResults: 50,
    navigation: 'top',
    highlightQueryTerms: true,
    showImagesResults: true,
    showResultLink: true,
    resultLinksOpenNewTab: false,
    queryCorrectionText: 'Did you mean "#CORRECTION#"?',
    noResultsText: 'Sorry, we have not found any matches for your query.',
    otherContentGroupName: 'Other',
    ignoreOtherContentGroup: false,
    moreResultsButton: undefined,
    moreResultsPagingSize: 50,
    groupResults: true,
    loader: {
        type: 'circle'
    }
}
</script>
<script src="https://sitesearch360.com/cdn/sitesearch360-v10.min.js"></script>
<!--END !SS360 SEARCH-->
</body>
</html>
